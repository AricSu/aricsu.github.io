import{_ as s,c as n,o as p,a4 as t}from"./chunks/framework.svyMRVY3.js";const b=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"zh/work/tidb/02TIDB-部署实践/2-2TiUP 部署实践/02TiUP 扩缩容主要组件.md","filePath":"zh/work/tidb/02TIDB-部署实践/2-2TiUP 部署实践/02TiUP 扩缩容主要组件.md"}'),i={name:"zh/work/tidb/02TIDB-部署实践/2-2TiUP 部署实践/02TiUP 扩缩容主要组件.md"};function l(e,a,d,c,o,u){return p(),n("div",null,a[0]||(a[0]=[t(`<h2 id="扩容tidb、tikv、pd节点" tabindex="-1">扩容TiDB、TiKV、PD节点 <a class="header-anchor" href="#扩容tidb、tikv、pd节点" aria-label="Permalink to &quot;扩容TiDB、TiKV、PD节点&quot;">​</a></h2><h4 id="编写scale-out文件" tabindex="-1">编写scale-out文件 <a class="header-anchor" href="#编写scale-out文件" aria-label="Permalink to &quot;编写scale-out文件&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.9-linux-amd64]$ cat scale-out.yaml  </span></span>
<span class="line"><span></span></span>
<span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.9-linux-amd64]$ vi scale-out.yaml </span></span>
<span class="line"><span>tidb_servers:</span></span>
<span class="line"><span>  - host: 192.168.169.44</span></span>
<span class="line"><span>    ssh_port: 22</span></span>
<span class="line"><span>    port: 4000</span></span>
<span class="line"><span>    status_port: 10080</span></span>
<span class="line"><span>    deploy_dir: /data/tidb-deploy/install/tidb-4000</span></span>
<span class="line"><span>    log_dir: /data/tidb-deploy/install/log/tidb-4000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>tikv_servers:</span></span>
<span class="line"><span>  - host: 192.168.169.44</span></span>
<span class="line"><span>    ssh_port: 22</span></span>
<span class="line"><span>    port: 20160</span></span>
<span class="line"><span>    status_port: 20180</span></span>
<span class="line"><span>    deploy_dir: /data/tidb-deploy/install/deploy/tikv-20160</span></span>
<span class="line"><span>    data_dir: /data/tidb-data/install/data/tikv-20160</span></span>
<span class="line"><span>    log_dir: /data/tidb-deploy/install/log/tikv-20160</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>pd_servers:</span></span>
<span class="line"><span>  - host: 192.168.169.44</span></span>
<span class="line"><span>    ssh_port: 22</span></span>
<span class="line"><span>    name: pd-192.168.169.44-2379</span></span>
<span class="line"><span>    client_port: 2379</span></span>
<span class="line"><span>    peer_port: 2380</span></span>
<span class="line"><span>    deploy_dir: /data/tidb-deploy/install/deploy/pd-2379</span></span>
<span class="line"><span>    data_dir: /data/tidb-data/install/data/pd-2379</span></span>
<span class="line"><span>    log_dir: /data/tidb-deploy/install/log/pd-2379</span></span></code></pre></div><h4 id="执行scale-out扩容操作" tabindex="-1">执行scale-out扩容操作 <a class="header-anchor" href="#执行scale-out扩容操作" aria-label="Permalink to &quot;执行scale-out扩容操作&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.9-linux-amd64]$ tiup cluster scale-out tidb-test scale-out.yaml</span></span>
<span class="line"><span>Starting component \`cluster\`: /home/tidb/.tiup/components/cluster/v1.3.1/tiup-cluster scale-out tidb-test scale-out.yaml</span></span>
<span class="line"><span>Please confirm your topology:</span></span>
<span class="line"><span>Cluster type:    tidb</span></span>
<span class="line"><span>Cluster name:    tidb-test</span></span>
<span class="line"><span>Cluster version: v4.0.9</span></span>
<span class="line"><span>Type  Host            Ports        OS/Arch       Directories</span></span>
<span class="line"><span>----  ----            -----        -------       -----------</span></span>
<span class="line"><span>pd    192.168.169.44  2379/2380    linux/x86_64  /data/tidb-deploy/install/deploy/pd-2379,/data/tidb-data/install/data/pd-2379</span></span>
<span class="line"><span>tikv  192.168.169.44  20160/20180  linux/x86_64  /data/tidb-deploy/install/deploy/tikv-20160,/data/tidb-data/install/data/tikv-20160</span></span>
<span class="line"><span>tidb  192.168.169.44  4000/10080   linux/x86_64  /data/tidb-deploy/install/tidb-4000</span></span>
<span class="line"><span>Attention:</span></span>
<span class="line"><span>    1. If the topology is not what you expected, check your yaml file.</span></span>
<span class="line"><span>    2. Please confirm there is no port/directory conflicts in same host.</span></span>
<span class="line"><span>Do you want to continue? [y/N]:  y</span></span>
<span class="line"><span>Input SSH password: </span></span>
<span class="line"><span>+ [ Serial ] - SSHKeySet: privateKey=/home/tidb/.tiup/storage/cluster/clusters/tidb-test/ssh/id_rsa, publicKey=/home/tidb/.tiup/storage/cluster/clusters/tidb-test/ssh/id_rsa.pub</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>Scaled cluster \`tidb-test\` out successfully</span></span></code></pre></div><h4 id="display验证扩容操作" tabindex="-1">display验证扩容操作 <a class="header-anchor" href="#display验证扩容操作" aria-label="Permalink to &quot;display验证扩容操作&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.2-linux-amd64]$ tiup cluster display tidb-test</span></span>
<span class="line"><span>Starting component \`cluster\`: /home/tidb/.tiup/components/cluster/v1.3.1/</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>tikv-20160               /data/tidb-deploy/tikv-20160</span></span>
<span class="line"><span>192.168.169.44:20160  tikv          192.168.169.44  20160/20180                      linux/x86_64  Up      /data/tidb-data/install/data/tikv-20160  /data/tidb-deploy/install/deploy/tikv-20160</span></span>
<span class="line"><span>Total nodes: 19</span></span></code></pre></div><h2 id="缩容tidb、tikv、pd节点" tabindex="-1">缩容TiDB、TiKV、PD节点 <a class="header-anchor" href="#缩容tidb、tikv、pd节点" aria-label="Permalink to &quot;缩容TiDB、TiKV、PD节点&quot;">​</a></h2><h4 id="缩容tikv节点" tabindex="-1">缩容TiKV节点 <a class="header-anchor" href="#缩容tikv节点" aria-label="Permalink to &quot;缩容TiKV节点&quot;">​</a></h4><ul><li>通过node参数指定要缩容的TiKV节点</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.2-linux-amd64]$ tiup cluster scale-in tidb-test --node 192.168.169.44:20160</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Starting component \`cluster\`: /home/tidb/.tiup/components/cluster/v1.3.1/tiup-cluster scale-in tidb-test --node 192.168.169.44:20160</span></span>
<span class="line"><span>This operation will delete the 192.168.169.44:20160 nodes in \`tidb-test\` and all their data.</span></span>
<span class="line"><span>Do you want to continue? [y/N]: y</span></span>
<span class="line"><span>Scale-in nodes...</span></span>
<span class="line"><span>+ [ Serial ] - SSHKeySet: privateKey=/home/tidb/.tiup/storage/cluster/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Scaled cluster \`tidb-test\` in successfully</span></span></code></pre></div><ul><li>通过display参数验证缩容的TiKV节点</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.2-linux-amd64]$ tiup cluster display tidb-test</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>There are some nodes can be pruned: </span></span>
<span class="line"><span>	Nodes: [192.168.169.44:20160]</span></span>
<span class="line"><span>	You can destroy them with the command: \`tiup cluster prune tidb-test\`</span></span></code></pre></div><ul><li>通过prune将offline的TiKV节点prune至Tombstone状态</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.2-linux-amd64]$ tiup cluster prune tidb-test</span></span>
<span class="line"><span>Starting component \`cluster\`: /home/tidb/.tiup/components/cluster/v1.3.1/tiup-cluster prune tidb-test</span></span>
<span class="line"><span>+ [ Serial ] - SSHKeySet: privateKey=/home/tidb/.tiup/storage/cluster/clusters/tidb-test/ssh/id_rsa, publicKey=/home/tidb/.tiup/storage/cluster/clusters/tidb-test/ssh/id_rsa.pub</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>Will destroy these nodes: [192.168.169.44:20160]</span></span>
<span class="line"><span>Do you confirm this action? [y/N]: y</span></span>
<span class="line"><span>Start destroy Tombstone nodes: [192.168.169.44:20160] ...</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>  - Regenerate config tikv -&gt; 192.168.169.43:20160 ... Done</span></span>
<span class="line"><span>  - Regenerate config tikv -&gt; 192.168.169.44:20160 ... Error</span></span>
<span class="line"><span>  - Regenerate config tidb -&gt; 192.168.169.41:4000 ... Done</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>Destroy success</span></span></code></pre></div><h2 id="display验证tikv节点缩容" tabindex="-1">display验证TiKV节点缩容 <a class="header-anchor" href="#display验证tikv节点缩容" aria-label="Permalink to &quot;display验证TiKV节点缩容&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.2-linux-amd64]$ tiup cluster display tidb-test</span></span>
<span class="line"><span>Starting component \`cluster\`: /home/tidb/.tiup/components/cluster/v1.3.1/tiup-cluster display tidb-test</span></span>
<span class="line"><span>Cluster type:       tidb</span></span>
<span class="line"><span>Cluster name:       tidb-test</span></span>
<span class="line"><span>Cluster version:    v4.0.2</span></span>
<span class="line"><span>SSH type:           builtin</span></span>
<span class="line"><span>Dashboard URL:      http://192.168.169.41:2379/dashboard</span></span>
<span class="line"><span>ID                    Role          Host            Ports                            OS/Arch       Status  Data Dir                                 Deploy Dir</span></span>
<span class="line"><span>--                    ----          ----            -----                            -------       ------  --------                                 ----------</span></span>
<span class="line"><span>192.168.169.42:9093   alertmanager  192.168.169.42  9093/9094                        linux/x86_64  Up      /data/tidb-data/alertmanager-9093        /data/tidb-deploy/alertmanager-9093</span></span>
<span class="line"><span>192.168.169.41:8300   cdc           192.168.169.41  8300                             linux/x86_64  Up      -                                        /data/tidb-deploy/cdc-8300</span></span>
<span class="line"><span>192.168.169.42:8300   cdc           192.168.169.42  8300                             linux/x86_64  Up      -                                        /data/tidb-deploy/cdc-8300</span></span>
<span class="line"><span>192.168.169.43:8300   cdc           192.168.169.43  8300                             linux/x86_64  Up      -                                        /data/tidb-deploy/cdc-8300</span></span>
<span class="line"><span>192.168.169.42:3000   grafana       192.168.169.42  3000                             linux/x86_64  Up      -                                        /data/tidb-deploy/grafana-3000</span></span>
<span class="line"><span>192.168.169.41:2379   pd            192.168.169.41  2379/2380                        linux/x86_64  Up|UI   /data/tidb-data/pd-2379                  /data/tidb-deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.42:2379   pd            192.168.169.42  2379/2380                        linux/x86_64  Up      /data/tidb-data/pd-2379                  /data/tidb-deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.43:2379   pd            192.168.169.43  2379/2380                        linux/x86_64  Up      /data/tidb-data/pd-2379                  /data/tidb-deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.44:2379   pd            192.168.169.44  2379/2380                        linux/x86_64  Up|L    /data/tidb-data/install/data/pd-2379     /data/tidb-deploy/install/deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.42:9090   prometheus    192.168.169.42  9090                             linux/x86_64  Up      /data/tidb-data/prometheus-9090          /data/tidb-deploy/prometheus-9090</span></span>
<span class="line"><span>192.168.169.41:4000   tidb          192.168.169.41  4000/10080                       linux/x86_64  Up      -                                        /data/tidb-deploy/tidb-4000</span></span>
<span class="line"><span>192.168.169.42:4000   tidb          192.168.169.42  4000/10080                       linux/x86_64  Up      -                                        /data/tidb-deploy/tidb-4000</span></span>
<span class="line"><span>192.168.169.43:4000   tidb          192.168.169.43  4000/10080                       linux/x86_64  Up      -                                        /data/tidb-deploy/tidb-4000</span></span>
<span class="line"><span>192.168.169.44:4000   tidb          192.168.169.44  4000/10080                       linux/x86_64  Up      -                                        /data/tidb-deploy/install/tidb-4000</span></span>
<span class="line"><span>192.168.169.44:9000   tiflash       192.168.169.44  9000/8123/3930/20170/20292/8234  linux/x86_64  Up      /data/tiflash1/data,/data/tiflash2/data  /data/tidb-deploy/tiflash-9000</span></span>
<span class="line"><span>192.168.169.41:20160  tikv          192.168.169.41  20160/20180                      linux/x86_64  Up      /data/tidb-data/tikv-20160               /data/tidb-deploy/tikv-20160</span></span>
<span class="line"><span>192.168.169.42:20160  tikv          192.168.169.42  20160/20180                      linux/x86_64  Up      /data/tidb-data/tikv-20160               /data/tidb-deploy/tikv-20160</span></span>
<span class="line"><span>192.168.169.43:20160  tikv          192.168.169.43  20160/20180                      linux/x86_64  Up      /data/tidb-data/tikv-20160               /data/tidb-deploy/tikv-20160</span></span></code></pre></div><h4 id="缩容tidb节点" tabindex="-1">缩容TiDB节点 <a class="header-anchor" href="#缩容tidb节点" aria-label="Permalink to &quot;缩容TiDB节点&quot;">​</a></h4><ul><li>开始缩容TiDB节点</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.2-linux-amd64]$ tiup cluster scale-in tidb-test --node 192.168.169.44:4000</span></span>
<span class="line"><span>Starting component \`cluster\`: /home/tidb/.tiup/components/cluster/v1.3.1/tiup-cluster scale-in tidb-test --node 192.168.169.44:4000</span></span>
<span class="line"><span>This operation will delete the 192.168.169.44:4000 nodes in \`tidb-test\` and all their data.</span></span>
<span class="line"><span>Do you want to continue? [y/N]: y</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>Scaled cluster \`tidb-test\` in successfully</span></span></code></pre></div><ul><li>验证缩容TiDB节点</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.2-linux-amd64]$ tiup cluster display tidb-test</span></span>
<span class="line"><span>Starting component \`cluster\`: /home/tidb/.tiup/components/cluster/v1.3.1/tiup-cluster display tidb-test</span></span>
<span class="line"><span>Cluster type:       tidb</span></span>
<span class="line"><span>Cluster name:       tidb-test</span></span>
<span class="line"><span>Cluster version:    v4.0.2</span></span>
<span class="line"><span>SSH type:           builtin</span></span>
<span class="line"><span>Dashboard URL:      http://192.168.169.41:2379/dashboard</span></span>
<span class="line"><span>ID                    Role          Host            Ports                            OS/Arch       Status  Data Dir                                 Deploy Dir</span></span>
<span class="line"><span>--                    ----          ----            -----                            -------       ------  --------                                 ----------</span></span>
<span class="line"><span>192.168.169.42:9093   alertmanager  192.168.169.42  9093/9094                        linux/x86_64  Up      /data/tidb-data/alertmanager-9093        /data/tidb-deploy/alertmanager-9093</span></span>
<span class="line"><span>192.168.169.41:8300   cdc           192.168.169.41  8300                             linux/x86_64  Up      -                                        /data/tidb-deploy/cdc-8300</span></span>
<span class="line"><span>192.168.169.42:8300   cdc           192.168.169.42  8300                             linux/x86_64  Up      -                                        /data/tidb-deploy/cdc-8300</span></span>
<span class="line"><span>192.168.169.43:8300   cdc           192.168.169.43  8300                             linux/x86_64  Up      -                                        /data/tidb-deploy/cdc-8300</span></span>
<span class="line"><span>192.168.169.42:3000   grafana       192.168.169.42  3000                             linux/x86_64  Up      -                                        /data/tidb-deploy/grafana-3000</span></span>
<span class="line"><span>192.168.169.41:2379   pd            192.168.169.41  2379/2380                        linux/x86_64  Up|UI   /data/tidb-data/pd-2379                  /data/tidb-deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.42:2379   pd            192.168.169.42  2379/2380                        linux/x86_64  Up      /data/tidb-data/pd-2379                  /data/tidb-deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.43:2379   pd            192.168.169.43  2379/2380                        linux/x86_64  Up      /data/tidb-data/pd-2379                  /data/tidb-deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.44:2379   pd            192.168.169.44  2379/2380                        linux/x86_64  Up|L    /data/tidb-data/install/data/pd-2379     /data/tidb-deploy/install/deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.42:9090   prometheus    192.168.169.42  9090                             linux/x86_64  Up      /data/tidb-data/prometheus-9090          /data/tidb-deploy/prometheus-9090</span></span>
<span class="line"><span>192.168.169.41:4000   tidb          192.168.169.41  4000/10080                       linux/x86_64  Up      -                                        /data/tidb-deploy/tidb-4000</span></span>
<span class="line"><span>192.168.169.42:4000   tidb          192.168.169.42  4000/10080                       linux/x86_64  Up      -                                        /data/tidb-deploy/tidb-4000</span></span>
<span class="line"><span>192.168.169.43:4000   tidb          192.168.169.43  4000/10080                       linux/x86_64  Up      -                                        /data/tidb-deploy/tidb-4000</span></span>
<span class="line"><span>192.168.169.44:9000   tiflash       192.168.169.44  9000/8123/3930/20170/20292/8234  linux/x86_64  Up      /data/tiflash1/data,/data/tiflash2/data  /data/tidb-deploy/tiflash-9000</span></span>
<span class="line"><span>192.168.169.41:20160  tikv          192.168.169.41  20160/20180                      linux/x86_64  Up      /data/tidb-data/tikv-20160               /data/tidb-deploy/tikv-20160</span></span>
<span class="line"><span>192.168.169.42:20160  tikv          192.168.169.42  20160/20180                      linux/x86_64  Up      /data/tidb-data/tikv-20160               /data/tidb-deploy/tikv-20160</span></span>
<span class="line"><span>192.168.169.43:20160  tikv          192.168.169.43  20160/20180                      linux/x86_64  Up      /data/tidb-data/tikv-20160               /data/tidb-deploy/tikv-20160</span></span>
<span class="line"><span>Total nodes: 17</span></span></code></pre></div><h2 id="缩容pd节点" tabindex="-1">缩容PD节点 <a class="header-anchor" href="#缩容pd节点" aria-label="Permalink to &quot;缩容PD节点&quot;">​</a></h2><ul><li>开始缩容PD节点</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.2-linux-amd64]$ tiup cluster scale-in tidb-test --node 192.168.169.44:2379</span></span>
<span class="line"><span>Starting component \`cluster\`: /home/tidb/.tiup/components/cluster/v1.3.1/tiup-cluster scale-in tidb-test --node 192.168.169.44:2379</span></span>
<span class="line"><span>This operation will delete the 192.168.169.44:2379 nodes in \`tidb-test\` and all their data.</span></span>
<span class="line"><span>Do you want to continue? [y/N]: y</span></span>
<span class="line"><span>Scale-in nodes...</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>......</span></span>
<span class="line"><span>Scaled cluster \`tidb-test\` in successfully</span></span></code></pre></div><ul><li>验证PD节点缩容</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[tidb@tiup-tidb41 tidb-community-server-v4.0.2-linux-amd64]$ tiup cluster display tidb-test</span></span>
<span class="line"><span>Starting component \`cluster\`: /home/tidb/.tiup/components/cluster/v1.3.1/tiup-cluster display tidb-test</span></span>
<span class="line"><span>Cluster type:       tidb</span></span>
<span class="line"><span>Cluster name:       tidb-test</span></span>
<span class="line"><span>Cluster version:    v4.0.2</span></span>
<span class="line"><span>SSH type:           builtin</span></span>
<span class="line"><span>Dashboard URL:      http://192.168.169.41:2379/dashboard</span></span>
<span class="line"><span>ID                    Role          Host            Ports                            OS/Arch       Status   Data Dir                                 Deploy Dir</span></span>
<span class="line"><span>--                    ----          ----            -----                            -------       ------   --------                                 ----------</span></span>
<span class="line"><span>192.168.169.42:9093   alertmanager  192.168.169.42  9093/9094                        linux/x86_64  Up       /data/tidb-data/alertmanager-9093        /data/tidb-deploy/alertmanager-9093</span></span>
<span class="line"><span>192.168.169.41:8300   cdc           192.168.169.41  8300                             linux/x86_64  Up       -                                        /data/tidb-deploy/cdc-8300</span></span>
<span class="line"><span>192.168.169.42:8300   cdc           192.168.169.42  8300                             linux/x86_64  Up       -                                        /data/tidb-deploy/cdc-8300</span></span>
<span class="line"><span>192.168.169.43:8300   cdc           192.168.169.43  8300                             linux/x86_64  Up       -                                        /data/tidb-deploy/cdc-8300</span></span>
<span class="line"><span>192.168.169.42:3000   grafana       192.168.169.42  3000                             linux/x86_64  Up       -                                        /data/tidb-deploy/grafana-3000</span></span>
<span class="line"><span>192.168.169.41:2379   pd            192.168.169.41  2379/2380                        linux/x86_64  Up|L|UI  /data/tidb-data/pd-2379                  /data/tidb-deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.42:2379   pd            192.168.169.42  2379/2380                        linux/x86_64  Up       /data/tidb-data/pd-2379                  /data/tidb-deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.43:2379   pd            192.168.169.43  2379/2380                        linux/x86_64  Up       /data/tidb-data/pd-2379                  /data/tidb-deploy/pd-2379</span></span>
<span class="line"><span>192.168.169.42:9090   prometheus    192.168.169.42  9090                             linux/x86_64  Up       /data/tidb-data/prometheus-9090          /data/tidb-deploy/prometheus-9090</span></span>
<span class="line"><span>192.168.169.41:4000   tidb          192.168.169.41  4000/10080                       linux/x86_64  Up       -                                        /data/tidb-deploy/tidb-4000</span></span>
<span class="line"><span>192.168.169.42:4000   tidb          192.168.169.42  4000/10080                       linux/x86_64  Up       -                                        /data/tidb-deploy/tidb-4000</span></span>
<span class="line"><span>192.168.169.43:4000   tidb          192.168.169.43  4000/10080                       linux/x86_64  Up       -                                        /data/tidb-deploy/tidb-4000</span></span>
<span class="line"><span>192.168.169.44:9000   tiflash       192.168.169.44  9000/8123/3930/20170/20292/8234  linux/x86_64  Up       /data/tiflash1/data,/data/tiflash2/data  /data/tidb-deploy/tiflash-9000</span></span>
<span class="line"><span>192.168.169.41:20160  tikv          192.168.169.41  20160/20180                      linux/x86_64  Up       /data/tidb-data/tikv-20160               /data/tidb-deploy/tikv-20160</span></span>
<span class="line"><span>192.168.169.42:20160  tikv          192.168.169.42  20160/20180                      linux/x86_64  Up       /data/tidb-data/tikv-20160               /data/tidb-deploy/tikv-20160</span></span>
<span class="line"><span>192.168.169.43:20160  tikv          192.168.169.43  20160/20180                      linux/x86_64  Up       /data/tidb-data/tikv-20160               /data/tidb-deploy/tikv-20160</span></span>
<span class="line"><span>Total nodes: 16</span></span></code></pre></div>`,27)]))}const h=s(i,[["render",l]]);export{b as __pageData,h as default};
