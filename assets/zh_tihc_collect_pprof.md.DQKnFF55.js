import{_ as a,c as i,o as s,a4 as e}from"./chunks/framework.svyMRVY3.js";const k=JSON.parse('{"title":"Collect Pprof","description":"","frontmatter":{},"headers":[],"relativePath":"zh/tihc/collect/pprof.md","filePath":"zh/tihc/collect/pprof.md"}'),d={name:"zh/tihc/collect/pprof.md"};function l(o,t,r,p,n,h){return s(),i("div",null,t[0]||(t[0]=[e(`<h1 id="collect-pprof" tabindex="-1">Collect Pprof <a class="header-anchor" href="#collect-pprof" aria-label="Permalink to &quot;Collect Pprof&quot;">​</a></h1><p>实用 tihc collect pprof 命令，收集 TiDB 集群中各组件的 pprof 信息。</p><h2 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tihc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> collect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pprof</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IP_ADDRESS:2379</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> goroutine</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/pd_goroutine</span></span></code></pre></div><h2 id="主要选项" tabindex="-1">主要选项 <a class="header-anchor" href="#主要选项" aria-label="Permalink to &quot;主要选项&quot;">​</a></h2><table tabindex="0"><thead><tr><th>选项</th><th>说明</th><th>默认值</th></tr></thead><tbody><tr><td><code>-a, --address &lt;IP:PORT&gt;</code></td><td>实例地址（tidb/tikv/pd 组件必需），格式为 ip:port，例如：127.0.0.1:2379</td><td>-</td></tr><tr><td><code>-c, --component &lt;COMPONENT&gt;</code></td><td>要收集的组件，可选值：tidb、tikv、pd、br</td><td>-</td></tr><tr><td><code>-t, --collection-type &lt;COLLECTION_TYPE&gt;</code></td><td>收集类型，可选值：config、profile、mutex、heap、goroutine</td><td>-</td></tr><tr><td><code>-o, --output &lt;OUTPUT&gt;</code></td><td>收集数据的存储路径（goroutine 收集可选）</td><td>-</td></tr><tr><td><code>-P, --processid &lt;PROCESSID&gt;</code></td><td>进程 ID（br 组件必需）</td><td>-</td></tr><tr><td><code>-s, --seconds &lt;SECONDS&gt;</code></td><td>性能分析持续时间（秒）</td><td>60</td></tr><tr><td><code>-l, --log-file &lt;LOG_FILE&gt;</code></td><td>日志文件路径</td><td>tihc_started_at_20250320_143949.log</td></tr><tr><td><code>-L, --log-level &lt;LOG_LEVEL&gt;</code></td><td>日志级别（trace、debug、info、warn、error）</td><td>info</td></tr></tbody></table>`,6)]))}const g=a(d,[["render",l]]);export{k as __pageData,g as default};
