<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DM syncer | AskAric</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/assets/style.D_13YQOS.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.D5Nu64fW.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.Dt0k66Q6.js">
    <link rel="modulepreload" href="/assets/chunks/framework.C3yiUNUH.js">
    <link rel="modulepreload" href="/assets/chunks/03-DM_Worker_Components.CNbSlk6_.js">
    <link rel="modulepreload" href="/assets/en_tidb_05TiDB-EcosystematicTools_5-4DM_05TiDB-DM syncer.md.vG6insNO.lean.js">
    <link rel="icon" href="/logo.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/en/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>AskAric</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/index.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Docs</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/en/tidb/index.html" data-v-35975db6><!--[--><span data-v-35975db6>TiDB Series</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/en/oracle/index.html" data-v-35975db6><!--[--><span data-v-35975db6>Oracle Series</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/en/sqlserver/index.html" data-v-35975db6><!--[--><span data-v-35975db6>SQL Server Series</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/en/english/index.html" data-v-35975db6><!--[--><span data-v-35975db6>English Learning Series</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/tihc/index.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>TiHC Doc</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Life&Hobby</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/en/skiing/20250212%20learn%20about%20skiing.html" data-v-35975db6><!--[--><span data-v-35975db6>Skiing</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/en/tennis/20250213%20my%20tennis.html" data-v-35975db6><!--[--><span data-v-35975db6>Tennis</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/en/motor/20250213%20my%20motor.html" data-v-35975db6><!--[--><span data-v-35975db6>Motor</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/en/coffee/20250214%20my%20coffee.html" data-v-35975db6><!--[--><span data-v-35975db6>Coffee</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/about.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>About</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-6aa21345 data-v-88af2de4 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><span class="vpi-languages option-icon" data-v-cf11d7a2></span><!----><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><div class="items" data-v-88af2de4><p class="title" data-v-88af2de4>English</p><!--[--><div class="VPMenuLink" data-v-88af2de4 data-v-35975db6><a class="VPLink link" href="/zh/tidb/05TiDB-EcosystematicTools/5-4DM/05TiDB-DM syncer.html" data-v-35975db6><!--[--><span data-v-35975db6>简体中文</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://askaric.com/feed.rss" aria-label="RSS" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 448 512"><title>RSS</title><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48s-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634c-5.214-80.05-69.243-143.92-149.123-149.123c-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425c110.546 5.974 198.997 94.536 204.964 204.964c.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038c-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432c167.83 6.025 302.21 141.191 308.205 308.205c.232 6.449-4.978 11.787-11.432 11.787z" fill="currentColor"></path></svg></a><a class="VPSocialLink no-icon" href="https://github.com/jansu-dev/Jan-Blog" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/zhipeng-su-2282b3217/" aria-label="linkedin" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/@askaric" aria-label="youtube" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-youtube"></span></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/318184941" aria-label="bilibili" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-bilibili"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><div class="group translations" data-v-bb2aa2f0><p class="trans-title" data-v-bb2aa2f0>English</p><!--[--><div class="VPMenuLink" data-v-bb2aa2f0 data-v-35975db6><a class="VPLink link" href="/zh/tidb/05TiDB-EcosystematicTools/5-4DM/05TiDB-DM syncer.html" data-v-35975db6><!--[--><span data-v-35975db6>简体中文</span><!--]--></a></div><!--]--></div><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://askaric.com/feed.rss" aria-label="RSS" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 448 512"><title>RSS</title><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48s-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634c-5.214-80.05-69.243-143.92-149.123-149.123c-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425c110.546 5.974 198.997 94.536 204.964 204.964c.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038c-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432c167.83 6.025 302.21 141.191 308.205 308.205c.232 6.449-4.978 11.787-11.432 11.787z" fill="currentColor"></path></svg></a><a class="VPSocialLink no-icon" href="https://github.com/jansu-dev/Jan-Blog" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/zhipeng-su-2282b3217/" aria-label="linkedin" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/@askaric" aria-label="youtube" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-youtube"></span></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/318184941" aria-label="bilibili" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-bilibili"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _en_tidb_05TiDB-EcosystematicTools_5-4DM_05TiDB-DM%20syncer" data-v-39a288b8><div><h1 id="dm-syncer" tabindex="-1">DM syncer <a class="header-anchor" href="#dm-syncer" aria-label="Permalink to &quot;DM syncer&quot;">​</a></h1><h2 id="what-s-syncer" tabindex="-1">What&#39;s syncer <a class="header-anchor" href="#what-s-syncer" aria-label="Permalink to &quot;What&#39;s syncer&quot;">​</a></h2><ol><li><p>Syncer can sync your MySQL data to another MySQL database.</p><figure><img src="/assets/03-DM_Worker_Components.B6zd-_bG.jpeg" alt="DM_Worker_Components" tabindex="0"><figcaption>DM_Worker_Components</figcaption></figure></li></ol><h2 id="pessimist" tabindex="-1">Pessimist <a class="header-anchor" href="#pessimist" aria-label="Permalink to &quot;Pessimist&quot;">​</a></h2><ol><li><p>I&#39;ve talked a little bit what the worker does in the pessmistic DDL machinism, PTAL at <a href="./03TiDB-DM Master.html">the pessmist content</a> first in DM Master.</p></li><li><p>From this <code>DM Syncer Main Steps</code> part of DM worker, we can see the syncer inside of DM Worker just put his DDL info and watch operation generated by DM Master, then put the query job to the <code>DDL job queue</code> if it&#39;s the owner of DDL Lock. It&#39;s pretty simple to do the work DM worker should do.</p></li></ol><h2 id="optimist" tabindex="-1">Optimist <a class="header-anchor" href="#optimist" aria-label="Permalink to &quot;Optimist&quot;">​</a></h2><ol><li><p>Also PLZ take a look on the one I&#39;ve written <a href="./../5-4DM/03TiDB-DM Master.html">here</a>, all because you may be confused without the pre-reading. Mostly there&#39;re relevent.</p></li><li><p>The pic on the top of this page, the only different processing step is just <code>switch op.ConflictStage</code> after <code>GetOperation</code>, though. They put totaly different info to etcd between pessmist and and optimist. I mean, after puting info to DM Master in optimist, DM Worker get and justify if there&#39;s conflict and to deal with next steps in a different way. At <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/ddl.go#L883" target="_blank" rel="noreferrer">here</a> after adjusting conflict, what DM Worker actually get is gotten from DM Master.</p></li></ol><h2 id="streamcontroller" tabindex="-1">streamController <a class="header-anchor" href="#streamcontroller" aria-label="Permalink to &quot;streamController&quot;">​</a></h2><ol><li><p>StreamerController including some items like <code>retryStrategy</code>, <code>syncCfg</code>, <code>fromDB</code> and so on in <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/binlogstream/streamer_controller.go#L131" target="_blank" rel="noreferrer">it&#39;s struct</a>, controls the streamer for read binlog, include reset streamer to a binlog position or GTID, read next binlog event, transfer from local streamer to remote streamer.</p></li><li><p>From the interface of <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/binlogstream/streamer_controller.go#L54-L83" target="_blank" rel="noreferrer"><code>GenerateStreamFrom</code></a> and <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/binlogstream/streamer_controller.go#L337" target="_blank" rel="noreferrer">func GetEvent</a>, can see it encapsulates status info of getting MySQL Binlog to the next one Event continuously.</p></li></ol><h2 id="runningloop" tabindex="-1">RunningLoop <a class="header-anchor" href="#runningloop" aria-label="Permalink to &quot;RunningLoop&quot;">​</a></h2><ol><li><p>Actually, <code>RunnLoop</code> is a name I created and it should be <code>func (s *Syncer) Run</code>. The reason I changed the name is make it more meaningful, because the key logic refer to <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1968-L1969" target="_blank" rel="noreferrer">this for-loop</a> I&#39;ve refered to inside the 694-rows-function.</p></li><li><p>As the pic showed, streamController will continuously send MySQL Binlog and the running dealing with everyone by <code>handleRotateEvent</code>,<code>HandleQueryEvent</code> and so on. I think that&#39;s the most important.</p></li><li><p>Inside <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L2535" target="_blank" rel="noreferrer">func handleRowsEvent</a>, there&#39;re too many event defined by MySQL and DM just needs to transform part of them, like <code>UPDATE_ROWS_EVENT</code>,<code>DELETE_ROWS_EVENT</code>,<code>WRITE_ROWS_EVENT</code> and so on. Syncer could be able to do that by <a href="https://github.com/go-mysql-org/go-mysql" target="_blank" rel="noreferrer">the package mysql-go</a> and some event defining info you can get at <a href="https://dev.mysql.com/doc/dev/mysql-server/latest/page_protocol_replication_binlog_event.html" target="_blank" rel="noreferrer">the page_protocol_replication_binlog_event</a>.</p></li></ol><h2 id="syncdml" tabindex="-1">syncDML <a class="header-anchor" href="#syncdml" aria-label="Permalink to &quot;syncDML&quot;">​</a></h2><ol><li><p>What this <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1534" target="_blank" rel="noreferrer">func</a> does is just gets dmlJob continuously from dmlJobCh, and outputs it to compactor or causality. It varies according to if you configed <code>compact</code> as true, which&#39;s a tuning to accelerate the replicating speed. The <a href="https://docs.pingcap.com/zh/tidb/stable/dm-dml-replication-logic#compactor" target="_blank" rel="noreferrer">compact</a> is a new feature, which&#39;s used to compact some DMLs into only one DML, like : <code>INSERT + UPDATE =&gt; INSERT</code>, <code>INSERT + DELETE =&gt; DELETE</code>, etc. As we all know, some queries like <code>insert into XXX values (),() ...;</code> is pretty fast than the format like <code>insert into XXX values(); insert into XXX values(); ...</code> .</p></li><li><p>Meanwhile, the <code>Causality</code> couldn&#39;t be ignored, because the functionality is used to detect DML conflict instead of just replicating DML orderly。More info about the parallel algorithm of Causality at <a href="https://cn.pingcap.com/blog/tidb-binlog-source-code-reading-8#%E5%B9%B6%E8%A1%8C%E6%89%A7%E8%A1%8CDML" target="_blank" rel="noreferrer">this blog</a>, in short, every event&#39;ll be dispatched to different group of <code>Causality Tree</code> by PK or UK, if the key of later event has a conflict with the former. Such as the conflict could be <code>Event-1 : INSERT INTO table_name (pk, uk) VALUES (1, 2);</code> and <code>Event-4 : DELETE FROM table_name WHERE pk = 1;</code> must be executed in time order, vice versa, there&#39;ll be a conflict. DM, in that way, could able to sync DML parallely between different groups of <code>Causality Tree</code>. So, if Causality&#39;s detected any conflit, there must fistly sync queries already existed in the group to downstream(TiDB Cluster).</p></li></ol><h2 id="syncddl" tabindex="-1">syncDDL <a class="header-anchor" href="#syncddl" aria-label="Permalink to &quot;syncDDL&quot;">​</a></h2><ol><li><p>IMHO, It&#39;s just a dispath component func which&#39;s aiming for DDL shard logic and record metrics. if be configured as <code>ShardPessimistic</code>,</p></li><li><p>Inside the <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1356" target="_blank" rel="noreferrer">func syncDDL</a>. It&#39;ll check config mode of <a href="https://docs.pingcap.com/tidb/stable/dm-shard-merge#configure-parameters" target="_blank" rel="noreferrer">shardMode</a> to do total different behaviours. For pessimist，PLZ look <a href="#pessimist">the pessimist component in syncer</a> and <a href="./03TiDB-DM Master.html">the pessimist component in DM Masrer</a>. While, for optimist, PLZ look <a href="./03TiDB-DM Master.html">the optimist component in DM Masrer</a> and <a href="#optimist">the optimist component in syncer</a>. I think it&#39;s the most complex and important logic in the entire DM.</p></li></ol><h2 id="ddlworker" tabindex="-1">DDLWorker <a class="header-anchor" href="#ddlworker" aria-label="Permalink to &quot;DDLWorker&quot;">​</a></h2><ol><li><p>Well, It&#39;s just a component to do work about DDL, also there&#39;re some key functions such as <code>HandleQueryEvent</code>, <code>skipQueryEvent</code>, <code>processOneDDL</code> and <code>handleDDL</code> of normal DDL, Optimist DDL and Pessimist DDL.</p></li><li><p>While, <code>HandleQueryEvent</code> connects the functions I metioned above. It&#39;ll record metrics and be responsible for split the type of DDL compacted multi DDLs in one SQL into some single ddls. because , until now, TiDB doesn&#39;t support the <a href="https://docs.pingcap.com/tidb/stable/dm-faq#if-a-statement-executed-upstream-contains-multiple-ddl-operations-does-dm-support-such-migration" target="_blank" rel="noreferrer">one</a>.</p></li></ol><h2 id="dmlworker" tabindex="-1">DMLWorker <a class="header-anchor" href="#dmlworker" aria-label="Permalink to &quot;DMLWorker&quot;">​</a></h2><ol><li><p>Also the main functions are <code>dmlWorkerWrap</code>, <code>sendJobToAllDmlQueue</code>, <code>executeJobs</code>, <code>genSQLs</code>. DM has one config parameter named <a href="https://docs.pingcap.com/zh/tidb/stable/dm-tune-configuration#worker-count" target="_blank" rel="noreferrer">worker-count</a> accelerated DML replication speed. At <code>dmlWorkerWrap</code>, the step creates the number of the worker-count as concurrency to sync DMLs. DMLs were splited by <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/dml_worker.go#L138" target="_blank" rel="noreferrer">hashing every DML Key</a> inside <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/dml_worker.go#L101" target="_blank" rel="noreferrer">func run</a>. By that, every queue executes in a batch way with parameter of <a href="https://docs.pingcap.com/tidb/stable/dm-tune-configuration#batch" target="_blank" rel="noreferrer">DM batch</a>. In short, DMLWorker transforms job into SQL and flush them into downstream.</p></li><li><p>More details you can find at <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/dml_worker.go#L33" target="_blank" rel="noreferrer">here</a>.</p></li></ol><h2 id="checkpointworker" tabindex="-1">checkpointWorker <a class="header-anchor" href="#checkpointworker" aria-label="Permalink to &quot;checkpointWorker&quot;">​</a></h2><ol><li><p>Well, checkPoint represents checkpoints status for syncer including global binlog&#39;s checkpoint and every table&#39;s checkpoint, when save checkpoint, we must differ saving in memory from saving (flushing) to DB (or file) permanently. for sharding merging, we must save checkpoint in memory to support skip when re-syncing for the special streamer, but before all DDLs for a sharding group to be synced and executed, we should not save checkpoint permanently. Because, when restarting to continue the sync, all sharding DDLs must try-sync again. Here&#39;s the key <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/checkpoint.go#L227" target="_blank" rel="noreferrer">interface</a> for you to know how it does work.</p></li><li><p>In Syncer, <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1187" target="_blank" rel="noreferrer">flushCheckPoints</a> and <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1223" target="_blank" rel="noreferrer">flushCheckPointsAsync</a> call <code>checkpointFlushWorker.Add(task)</code> to push checkpoint task into checkpointWorker. There&#39;s also a loop <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/checkpoint_flush_worker.go#L91" target="_blank" rel="noreferrer">func Run</a> to dispatch into sync/async logic and flush global checkpint using FlushPointsExcept into downstream checkpoint-table permantly. Untill now, async flush checkpoint hasn&#39;t been released, more info at the <a href="https://github.com/pingcap/tiflow/blob/master/dm/docs/RFCS/20211012_async_checkpoint_flush.md" target="_blank" rel="noreferrer">RFC</a>.</p></li><li><p>There&#39;re four scenarios needing to flush checkpoint. A half of them are included in <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1048" target="_blank" rel="noreferrer">func handleJob</a>, and the others are in <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1654" target="_blank" rel="noreferrer">func Syncer.Run</a>.<br> a. <strong>DDL executed</strong> : when every DDL exists in DM, the flushing action&#39;ll be triggered at <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1101-L1142" target="_blank" rel="noreferrer">func handleJob</a>.<br> b. <strong>pausing / stopping the sync (driven by <code>s.flushJobs</code>)</strong> : flush all jobs before exit, at <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1870" target="_blank" rel="noreferrer">func s.flushJobs()</a>. Or there&#39;s any error solving using <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L2174-L2203" target="_blank" rel="noreferrer">skip-error methord</a>.<br> c. <strong>IsFreshTask return true</strong> : if streamController successfully started or the Mode configed as <code>ALL</code>, the checkpoint loaded from the dump metafile should be flushed.<br> d. <strong>Heartbeat event received</strong> : At <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L1030" target="_blank" rel="noreferrer">func flushIfOutdated</a>, when every event from MySQL Binlog is dispatched into DML Job queues, <a href="https://github.com/pingcap/tiflow/blob/c65e2b72198de10319008b31dcf13d51509ccfde/dm/syncer/syncer.go#L2614" target="_blank" rel="noreferrer">here</a>.</p></li><li><p>In short, checkpoint is an item to make sure the final consistency in data replication. What I mean is the one let DM could be able to continuous replicate after recovering from error, though, if there&#39;s any error.</p></li></ol></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><footer class="footer" data-v-178a1931><!----><div class="footer-info" data-v-178a1931><div class="info-item" data-v-178a1931><span data-v-178a1931><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="info-icon" style="" width="1em" height="1em" viewBox="0 0 16 16" data-v-178a1931></svg>  <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/" title="ICP备案" data-v-178a1931>备案号 : 辽ICP备19006373号-3</a></span><span class="info-spacing" data-v-178a1931></span><span data-v-178a1931><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="info-icon" style="" width="1em" height="1em" viewBox="0 0 16 16" data-v-178a1931></svg>  <a target="_blank" rel="noopener" href="https://beian.mps.gov.cn/" title="公安备案" data-v-178a1931>公网安备号</a></span></div><span class="info-spacing-copyright" data-v-178a1931></span><div class="info-item" data-v-178a1931><span data-v-178a1931><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="info-icon" style="font-size:1em;" width="1em" height="1em" viewBox="0 0 16 16" data-v-178a1931></svg> 2025 <a target="_blank" rel="noopener" title="GitHub" href="https://github.com/aricSu" data-v-178a1931>Aric</a>. All Rights Reserved. </span></div></div></footer><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"en_about.md\":\"Cec-tcM8\",\"en_coffee_20250214 my coffee.md\":\"ULFmMaU-\",\"en_english_01waystage_english_1-1scernario_thewayweare.md\":\"DPbRapuZ\",\"en_english_01waystage_english_1-2scenario_experiences.md\":\"CShaT9cO\",\"en_english_01waystage_english_1-3scenario_managinglife.md\":\"BWxkGTQY\",\"en_english_01waystage_english_1-4scenario_techsavvy.md\":\"ClZHV5Ld\",\"en_english_01waystage_english_1-5scenario_impressions.md\":\"1z40Yuwb\",\"en_english_02threshold_english_2-10scenario_lawandorder.md\":\"B1pd7JT2\",\"en_english_02threshold_english_2-11scenario_strangeevents.md\":\"BWD2pH8o\",\"en_english_02threshold_english_2-12scenario_fame.md\":\"GQIvd1Ad\",\"en_english_02threshold_english_2-1scenario_lives.md\":\"BkEvAty3\",\"en_english_02threshold_english_2-2scenario_socializing.md\":\"u9lvbi2c\",\"en_english_02threshold_english_2-3scenario_materialworld.md\":\"C_f9PoY6\",\"en_english_02threshold_english_2-4scenario_trends.md\":\"EqD_9AYB\",\"en_english_02threshold_english_2-5scenario_problemsolving.md\":\"CFkEnVvi\",\"en_english_02threshold_english_2-6scenario_behavior.md\":\"D_6wVZFx\",\"en_english_02threshold_english_2-7scenario_careers.md\":\"CXXb2A_u\",\"en_english_02threshold_english_2-8scenario_personaltastes.md\":\"BQViG706\",\"en_english_02threshold_english_2-9scenario_worldclutures.md\":\"CkK3JB0T\",\"en_english_02threshold_english_index.md\":\"CmlgDkxG\",\"en_english_03vantage_english_3-10scenario_success_happiness.md\":\"CQPCLgsm\",\"en_english_03vantage_english_3-11scenario_goingplaces.md\":\"C3JlsKrH\",\"en_english_03vantage_english_3-12scenario_culture.md\":\"CPCY_hek\",\"en_english_03vantage_english_3-13scenario_ability.md\":\"BK6BZa1H\",\"en_english_03vantage_english_3-1scenario_speedfriending.md\":\"D9d1ZXek\",\"en_english_03vantage_english_3-2scenario_celebrity.md\":\"h76dd6Qh\",\"en_english_03vantage_english_3-3scenario_comment.md\":\"CteM_MP8\",\"en_english_03vantage_english_3-4scenario_stories.md\":\"DAvfhZtQ\",\"en_english_03vantage_english_3-5scenario_workinglives.md\":\"BFUErzDZ\",\"en_english_03vantage_english_3-6scenario_challenges.md\":\"BUxKT-XQ\",\"en_english_03vantage_english_3-7scenario_intothefuture.md\":\"Ci9rn9qk\",\"en_english_03vantage_english_3-8scenario_getalong.md\":\"BeOGHOxM\",\"en_english_03vantage_english_3-9scenario_agreatread.md\":\"C0Lq3ziL\",\"en_english_04ielts_exam_4-1week1_rules.md\":\"DMxJzqZi\",\"en_english_04ielts_exam_4-2week2_review4b.md\":\"m7DilVx4\",\"en_english_04ielts_exam_4-3week3_stragegy.md\":\"jTr9d48f\",\"en_english_04ielts_exam_4-4week4_ielts_part2.md\":\"RLiaYmVh\",\"en_english_index.md\":\"TTXfbkD2\",\"en_index.md\":\"DJbyxF3O\",\"en_motor_20250213 my motor.md\":\"BFRu8FAO\",\"en_optimizer_01optimizer implementation.md\":\"Dpr1L1lf\",\"en_oracle_index.md\":\"BvOM9TyU\",\"en_skiing_20250212 learn about skiing.md\":\"B5hRkyV-\",\"en_sqlserver_index.md\":\"D74_3EKA\",\"en_tennis_20250213 my tennis.md\":\"Dht-x_eh\",\"en_tidb_03tidb-maintaining_tidb metrics_tidb panel - disconnection count.md\":\"Bq88Airw\",\"en_tidb_03tidb-maintaining_tidb metrics_tidb panel - kv backoff ops.md\":\"BYq3VyvU\",\"en_tidb_03tidb-maintaining_tidb metrics_tidb-prometheus.md\":\"DhvMoMWc\",\"en_tidb_05tidb-ecosystematictools_5-1ticdc_01ticdc overview.md\":\"5lj13Aas\",\"en_tidb_05tidb-ecosystematictools_5-1ticdc_02ticdc streaming.md\":\"CcpIgbi8\",\"en_tidb_05tidb-ecosystematictools_5-1ticdc_03tikv cdc component.md\":\"CueAaJbW\",\"en_tidb_05tidb-ecosystematictools_5-1ticdc_04all metrics in ticdc.md\":\"D3cQt6uo\",\"en_tidb_05tidb-ecosystematictools_5-2br_01br overview.md\":\"BvkPUWK5\",\"en_tidb_05tidb-ecosystematictools_5-2br_02br tuning.md\":\"BFy3XL1K\",\"en_tidb_05tidb-ecosystematictools_5-3dumpling_01dumpling quickstart.md\":\"CYj5lcZh\",\"en_tidb_05tidb-ecosystematictools_5-3dumpling_02dumpling architecture.md\":\"CCISqAoF\",\"en_tidb_05tidb-ecosystematictools_5-4dm_01tidb-dm overview.md\":\"B_Nwy8Qh\",\"en_tidb_05tidb-ecosystematictools_5-4dm_02tidb-dm quickstart.md\":\"sGbg3Ltw\",\"en_tidb_05tidb-ecosystematictools_5-4dm_03tidb-dm master.md\":\"gkp_tNxB\",\"en_tidb_05tidb-ecosystematictools_5-4dm_04tidb-dm worker.md\":\"Bh5DsiOA\",\"en_tidb_05tidb-ecosystematictools_5-4dm_05tidb-dm syncer.md\":\"vG6insNO\",\"en_tidb_05tidb-ecosystematictools_5-4dm_06tidb-dm metrics.md\":\"BhnakKBj\",\"en_tidb_05tidb-ecosystematictools_5-7tidb-lightning_01quick start.md\":\"bUNje2tF\",\"en_tidb_05tidb-ecosystematictools_5-7tidb-lightning_02lighting architecture.md\":\"Dq2PzK2p\",\"en_tidb_08tidb-cloud-k8s_8-1tidb-deployment_01tidb-operator deploys tidb.md\":\"DqO1qcKR\",\"en_tidb_08tidb-cloud-k8s_8-1tidb-deployment_02tidb-operator deploys dm.md\":\"C2ShFQoM\",\"en_tidb_08tidb-cloud-k8s_8-1tidb-deployment_03tidb-operator deploys lightning.md\":\"CdgeRPb5\",\"en_tidb_08tidb-cloud-k8s_8-1tidb-deployment_04tidb-operator deploys ticdc.md\":\"DfwYtnQ8\",\"en_tidb_index.md\":\"DSOnJl1q\",\"en_tidb_tidb-principle_paper reading_02spanner transaction.md\":\"Corb8sRz\",\"en_tidb_tidb-principle_paper reading_04lsmtree storage.md\":\"CUeWvKEi\",\"en_tidb_tidb-principle_paper reading_05database isolation.md\":\"D_dnhIBx\",\"en_tidb_tidb-principle_paper reading_06what is tidb.md\":\"DEctkWi9\",\"en_tidb_tidb-principle_paper reading_paperpaxos note.md\":\"C8L8wORu\",\"en_tidb_tidb-principle_paper reading_percolator transaction.md\":\"BVcK8hav\",\"en_tidb_tidb-principle_tidb optimizer_03how to build logical plan.md\":\"Rw4aOCFk\",\"en_tidb_tidb-principle_tidb optimizer_logical optimizing in tidb.md\":\"CCkpEbub\",\"en_tidb_tidb-principle_tidb optimizer_physical optimizing in tidb.md\":\"B-TOfzUq\",\"en_tihc_collect_index.md\":\"C1jNzIql\",\"en_tihc_index.md\":\"CQCS7CJo\",\"en_tihc_tools_docdb.md\":\"CYYRVdfp\",\"zh_about.md\":\"BPwFrGde\",\"zh_coffee_20250214 my coffee.md\":\"CtsRTPVY\",\"zh_coffee_basic.md\":\"DpMAo8zW\",\"zh_english_01基础英语_1-1场景_生活方式.md\":\"xogN6n4w\",\"zh_english_01基础英语_1-2场景_历史经验.md\":\"DDa4Mwcn\",\"zh_english_01基础英语_1-3场景_管理生活.md\":\"VDVhG5Gs\",\"zh_english_01基础英语_1-4场景_技术专家.md\":\"CCtosXZA\",\"zh_english_01基础英语_1-5场景_印象深刻.md\":\"DIpZL7fy\",\"zh_english_02英语口语_2-10场景_法律与秩序.md\":\"DucQzcv9\",\"zh_english_02英语口语_2-11场景_奇怪事件.md\":\"DwI0uzYS\",\"zh_english_02英语口语_2-12场景_名气.md\":\"3IBRWtgy\",\"zh_english_02英语口语_2-1场景_生活.md\":\"CA_7rsgR\",\"zh_english_02英语口语_2-2场景_名人.md\":\"B0fxj6RV\",\"zh_english_02英语口语_2-3场景_备注.md\":\"BY2sJk1e\",\"zh_english_02英语口语_2-4场景_趋势.md\":\"x8gJSfiY\",\"zh_english_02英语口语_2-5场景_解决问题.md\":\"D-HdC3My\",\"zh_english_02英语口语_2-6场景_行为.md\":\"CamiGkvi\",\"zh_english_02英语口语_2-7场景_工作.md\":\"Cy8ceb00\",\"zh_english_02英语口语_2-8场景_个人趣向.md\":\"Dopy5ic0\",\"zh_english_02英语口语_2-9场景_世界文化.md\":\"Dte1joft\",\"zh_english_03高级口语_3-10场景_成功与快乐.md\":\"DzUaDfkK\",\"zh_english_03高级口语_3-11场景_出游.md\":\"-fo3VnRD\",\"zh_english_03高级口语_3-12场景_文化.md\":\"CvI0BtZQ\",\"zh_english_03高级口语_3-13场景_能力.md\":\"Z-OfmtvK\",\"zh_english_03高级口语_3-1场景_快速交友.md\":\"Bbc5VcRa\",\"zh_english_03高级口语_3-2场景_名人.md\":\"B2ZBQ7si\",\"zh_english_03高级口语_3-3场景_评论.md\":\"pmSS5qLl\",\"zh_english_03高级口语_3-4场景_故事.md\":\"SO4pP-N8\",\"zh_english_03高级口语_3-5场景_工作寿命.md\":\"B59OhZnR\",\"zh_english_03高级口语_3-6场景_挑战.md\":\"cCUxEIDV\",\"zh_english_03高级口语_3-7场景_在未来.md\":\"DL4pa1Hk\",\"zh_english_03高级口语_3-8场景_和睦相处.md\":\"Bb1KbfSP\",\"zh_english_03高级口语_3-9场景_优质读物.md\":\"FSGFNw8A\",\"zh_english_04雅思考试_4-1week1_雅思考试.md\":\"DVkyGpWw\",\"zh_english_04雅思考试_4-2week2_复习剑桥4b.md\":\"BXFmQdim\",\"zh_english_04雅思考试_4-3week3_加分策略.md\":\"D-lDTmYJ\",\"zh_english_index.md\":\"CEagnmLG\",\"zh_index.md\":\"j5f7A9ms\",\"zh_motor_20250213 my motor.md\":\"BlQHX3_e\",\"zh_oracle_index.md\":\"DUMyOT0y\",\"zh_oracle_start-dg.md\":\"DATf9i99\",\"zh_oracle_start-oraclerac.md\":\"SglrhUCy\",\"zh_oracle_start-oracle单实例asm部署.md\":\"C5oz1w3D\",\"zh_oracle_summary-oracle.md\":\"CVF3Rn3g\",\"zh_oracle_summary-历史镜像梳理.md\":\"Xbcz9IPv\",\"zh_oracle_theory-oracle dg.md\":\"CXtEu5uF\",\"zh_skiing_20250212 learn about skiing.md\":\"BQhw3RUd\",\"zh_sqlserver_alwayson集群部署.md\":\"CPIeg8FE\",\"zh_sqlserver_index.md\":\"Bp61Zssp\",\"zh_tennis_20250213 my tennis.md\":\"CCbC7hJm\",\"zh_tidb_02tidb-部署实践_2-1ansible 部署实践_01ansible 部署与扩缩容.md\":\"2hTvZc9a\",\"zh_tidb_02tidb-部署实践_2-1ansible 部署实践_02ansible 修改集群配置.md\":\"BuGandd0\",\"zh_tidb_02tidb-部署实践_2-2tiup 部署实践_01tiup 离线部署 tidb.md\":\"Bb15CnMn\",\"zh_tidb_02tidb-部署实践_2-2tiup 部署实践_02tiup 扩缩容主要组件.md\":\"CYy97Zwx\",\"zh_tidb_02tidb-部署实践_2-2tiup 部署实践_03tiup 滚动升级 tidb.md\":\"CCCmGdOe\",\"zh_tidb_02tidb-部署实践_2-2tiup 部署实践_04tiup 单机混部多实例.md\":\"Y_GdJWw6\",\"zh_tidb_02tidb-部署实践_2-2tiup 部署实践_05tiup 部署 tispark.md\":\"DGSQIVvq\",\"zh_tidb_03tidb-运维管理_3-1tidb 监控详解_01tls 原理与应用.md\":\"Djhn3YC_\",\"zh_tidb_03tidb-运维管理_3-1tidb 监控详解_03tikv details 详解.md\":\"Cd7mAyzW\",\"zh_tidb_03tidb-运维管理_3-1tidb 监控详解_04指标简介_kv backoff ops.md\":\"9fKV3LBk\",\"zh_tidb_03tidb-运维管理_3-1tidb 监控详解_tidb panel - disconnection count.md\":\"CnlQN1j5\",\"zh_tidb_03tidb-运维管理_3-1tidb 监控详解_tidb panel - kv backoff ops.md\":\"DUVr7cNt\",\"zh_tidb_03tidb-运维管理_3-1tidb 监控详解_tidb-prometheus.md\":\"ZUK8LsDV\",\"zh_tidb_03tidb-运维管理_3-2tikv 监控详解_tikv 监控面板 - allocator stats.md\":\"Cb0Rv3Or\",\"zh_tidb_03tidb-运维管理_3-4非常规恢复_01重建pd.md\":\"DSQW8Qza\",\"zh_tidb_04tidb-调优实践_4-1生产案例总结_01磁盘抖动导致 duration 抖动.md\":\"Cz9vwkDB\",\"zh_tidb_04tidb-调优实践_4-1生产案例总结_02网卡打满导致 duration 升高.md\":\"DL-YBKJd\",\"zh_tidb_05tidb-生态工具_5-1ticdc_01简述使用背景.md\":\"D8J_jN8E\",\"zh_tidb_05tidb-生态工具_5-1ticdc_02剖析架构模型.md\":\"BtZtx86q\",\"zh_tidb_05tidb-生态工具_5-1ticdc_03cdc组件解析.md\":\"C22JiVWq\",\"zh_tidb_05tidb-生态工具_5-1ticdc_04监控原理解析.md\":\"BSzeP2G_\",\"zh_tidb_05tidb-生态工具_5-3dumpling_01dumpling 快速使用.md\":\"DBa9mNz2\",\"zh_tidb_05tidb-生态工具_5-3dumpling_02dumpling 架构原理.md\":\"BmQqArck\",\"zh_tidb_05tidb-生态工具_5-4dm_01tidb-dm 架构总览.md\":\"DyGTNFPk\",\"zh_tidb_05tidb-生态工具_5-4dm_02tidb-dm 快速使用.md\":\"BEakFFsB\",\"zh_tidb_05tidb-生态工具_5-4dm_03tidb-dm master.md\":\"Clqf4W0b\",\"zh_tidb_05tidb-生态工具_5-4dm_04tidb-dm worker.md\":\"BqXZxIYD\",\"zh_tidb_05tidb-生态工具_5-4dm_05tidb-dm syncer.md\":\"TmvlyiEO\",\"zh_tidb_05tidb-生态工具_5-4dm_06tidb-dm metrics.md\":\"CoAZkgLa\",\"zh_tidb_05tidb-生态工具_5-6binlog_01binlog及reparo原理与使用.md\":\"oIJnwd9p\",\"zh_tidb_06tidb-解决方案_6-1迁移mycat至tidb方案_01tichange脚本转换csv文件适配tidb-lightning.md\":\"ca1ufdqT\",\"zh_tidb_06tidb-解决方案_6-2迁移oracle至tidb方案_01oracle到tidb的ogg部署方案.md\":\"Bn2YY8bi\",\"zh_tidb_07tidb-源码阅读_7-1tidb_01tidb run and debug on m1.md\":\"BeU2n9Pl\",\"zh_tidb_07tidb-源码阅读_7-1tidb_02tidb point_get 点查的一生.md\":\"CbJtQhUf\",\"zh_tidb_07tidb-源码阅读_7-1tidb_03tidb how to get init time.md\":\"C_oI5ktj\",\"zh_tidb_08tidb-cloud-k8s_8-1tidb-应用实践_01tidb-operator 部署 tidb.md\":\"DgEB5QM_\",\"zh_tidb_08tidb-cloud-k8s_8-1tidb-应用实践_02tidb-operator 部署 dm.md\":\"CjjjR9Oy\",\"zh_tidb_08tidb-cloud-k8s_8-1tidb-应用实践_03tidb-operator 部署 lightning.md\":\"Yu0bZbUS\",\"zh_tidb_08tidb-cloud-k8s_8-1tidb-应用实践_04tidb-operator 部署 ticdc.md\":\"mVNlKwM-\",\"zh_tidb_index.md\":\"b2HrqNcB\",\"zh_tidb_tidb-principle_paper reading_03spanner 分布式事务.md\":\"pbBlWrCo\",\"zh_tidb_tidb-principle_paper reading_04lsmtree 存储笔记.md\":\"BoB5v45w\",\"zh_tidb_tidb-principle_paper reading_05数据库的隔离级别.md\":\"ee91I_j4\",\"zh_tidb_tidb-principle_paper reading_paperpaxos note.md\":\"Cf8dJDtX\",\"zh_tidb_tidb-principle_paper reading_percolator transaction.md\":\"Cw6eua2X\",\"zh_tidb_tidb-principle_tidb 优化器_logical optimizing in tidb.md\":\"JPuL5ZIF\",\"zh_tidb_tidb-principle_tidb 优化器_physical optimizing in tidb.md\":\"Qu5hdP5o\",\"zh_tihc_collect_index.md\":\"-WN3PXNK\",\"zh_tihc_index.md\":\"CM1yRTah\",\"zh_tihc_readme.md\":\"NSQPOPxa\",\"zh_tihc_tools_docdb.md\":\"OrtvmAYP\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 448 512\\\"><title>RSS</title><path d=\\\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48s-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634c-5.214-80.05-69.243-143.92-149.123-149.123c-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425c110.546 5.974 198.997 94.536 204.964 204.964c.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038c-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432c167.83 6.025 302.21 141.191 308.205 308.205c.232 6.449-4.978 11.787-11.432 11.787z\\\" fill=\\\"currentColor\\\"></path></svg>\"},\"link\":\"https://askaric.com/feed.rss\",\"ariaLabel\":\"RSS\"},{\"icon\":\"github\",\"link\":\"https://github.com/jansu-dev/Jan-Blog\"},{\"icon\":\"linkedin\",\"link\":\"https://www.linkedin.com/in/zhipeng-su-2282b3217/\"},{\"icon\":\"youtube\",\"link\":\"https://www.youtube.com/@askaric\"},{\"icon\":\"bilibili\",\"link\":\"https://space.bilibili.com/318184941\"}]},\"locales\":{\"en\":{\"lang\":\"en\",\"label\":\"English\",\"title\":\"AskAric\",\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/en/index\"},{\"text\":\"Docs\",\"items\":[{\"text\":\"TiDB Series\",\"link\":\"/en/tidb/index\"},{\"text\":\"Oracle Series\",\"link\":\"/en/oracle/index\"},{\"text\":\"SQL Server Series\",\"link\":\"/en/sqlserver/index\"},{\"text\":\"English Learning Series\",\"link\":\"/en/english/index\"}]},{\"text\":\"TiHC Doc\",\"link\":\"/en/tihc/index\"},{\"text\":\"Life&Hobby\",\"items\":[{\"text\":\"Skiing\",\"link\":\"/en/skiing/20250212 learn about skiing\"},{\"text\":\"Tennis\",\"link\":\"/en/tennis/20250213 my tennis\"},{\"text\":\"Motor\",\"link\":\"/en/motor/20250213 my motor\"},{\"text\":\"Coffee\",\"link\":\"/en/coffee/20250214 my coffee\"}]},{\"text\":\"About\",\"link\":\"/en/about\"}],\"sidebar\":{\"/en/tidb/\":[],\"/en/english/\":[{\"text\":\"waystage_english\",\"items\":[{\"text\":\"scenario_thewayweare\",\"link\":\"/en/english/01waystage_english/1-1scernario_thewayweare.md\"},{\"text\":\"scenario_experiences\",\"link\":\"/en/english/01waystage_english/1-2scenario_experiences.md\"},{\"text\":\"scenario_managinglife\",\"link\":\"/en/english/01waystage_english/1-3scenario_managinglife.md\"},{\"text\":\"scenario_techsavvy\",\"link\":\"/en/english/01waystage_english/1-4scenario_techsavvy.md\"},{\"text\":\"scenario_impressions\",\"link\":\"/en/english/01waystage_english/1-5scenario_impressions.md\"}]},{\"text\":\"threshold_english\",\"items\":[{\"text\":\"scenario_lawandorder\",\"link\":\"/en/english/02threshold_english/2-10scenario_lawandorder.md\"},{\"text\":\"scenario_strangeevents\",\"link\":\"/en/english/02threshold_english/2-11scenario_strangeevents.md\"},{\"text\":\"scenario_fame\",\"link\":\"/en/english/02threshold_english/2-12scenario_fame.md\"},{\"text\":\"scenario_lives\",\"link\":\"/en/english/02threshold_english/2-1scenario_lives.md\"},{\"text\":\"scenario_socializing\",\"link\":\"/en/english/02threshold_english/2-2scenario_socializing.md\"},{\"text\":\"scenario_materialworld\",\"link\":\"/en/english/02threshold_english/2-3scenario_materialworld.md\"},{\"text\":\"scenario_trends\",\"link\":\"/en/english/02threshold_english/2-4scenario_trends.md\"},{\"text\":\"scenario_problemsolving\",\"link\":\"/en/english/02threshold_english/2-5scenario_problemsolving.md\"},{\"text\":\"scenario_behavior\",\"link\":\"/en/english/02threshold_english/2-6scenario_behavior.md\"},{\"text\":\"scenario_careers\",\"link\":\"/en/english/02threshold_english/2-7scenario_careers.md\"},{\"text\":\"scenario_personaltastes\",\"link\":\"/en/english/02threshold_english/2-8scenario_personaltastes.md\"},{\"text\":\"scenario_worldclutures\",\"link\":\"/en/english/02threshold_english/2-9scenario_worldclutures.md\"}]},{\"text\":\"vantage_english\",\"items\":[{\"text\":\"scenario_success+happiness\",\"link\":\"/en/english/03vantage_english/3-10scenario_success+happiness.md\"},{\"text\":\"scenario_goingplaces\",\"link\":\"/en/english/03vantage_english/3-11scenario_goingplaces.md\"},{\"text\":\"scenario_culture\",\"link\":\"/en/english/03vantage_english/3-12scenario_culture.md\"},{\"text\":\"scenario_ability\",\"link\":\"/en/english/03vantage_english/3-13scenario_ability.md\"},{\"text\":\"scenario_speedfriending\",\"link\":\"/en/english/03vantage_english/3-1scenario_speedfriending.md\"},{\"text\":\"scenario_celebrity\",\"link\":\"/en/english/03vantage_english/3-2scenario_celebrity.md\"},{\"text\":\"scenario_comment\",\"link\":\"/en/english/03vantage_english/3-3scenario_comment.md\"},{\"text\":\"scenario_stories\",\"link\":\"/en/english/03vantage_english/3-4scenario_stories.md\"},{\"text\":\"scenario_workinglives\",\"link\":\"/en/english/03vantage_english/3-5scenario_workinglives.md\"},{\"text\":\"scenario_challenges\",\"link\":\"/en/english/03vantage_english/3-6scenario_challenges.md\"},{\"text\":\"scenario_intothefuture\",\"link\":\"/en/english/03vantage_english/3-7scenario_intothefuture.md\"},{\"text\":\"scenario_getalong\",\"link\":\"/en/english/03vantage_english/3-8scenario_getalong.md\"},{\"text\":\"scenario_agreatread\",\"link\":\"/en/english/03vantage_english/3-9scenario_agreatread.md\"}]},{\"text\":\"IELTS_exam\",\"items\":[{\"text\":\"scenario_rules\",\"link\":\"/en/english/04IELTS_exam/4-1week1_rules.md\"},{\"text\":\"scenario_review4B\",\"link\":\"/en/english/04IELTS_exam/4-2week2_review4B.md\"},{\"text\":\"scenario_stragegy\",\"link\":\"/en/english/04IELTS_exam/4-3week3_stragegy.md\"},{\"text\":\"scenario_IELTS\",\"link\":\"/en/english/04IELTS_exam/4-4week4_IELTS_part2.md\"}]}]}}},\"zh\":{\"lang\":\"zh\",\"title\":\"AskAric\",\"label\":\"简体中文\",\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/zh/index\"},{\"text\":\"文档笔记\",\"items\":[{\"text\":\"TiDB 系列\",\"link\":\"/zh/tidb/index\"},{\"text\":\"Oracle 系列\",\"link\":\"/zh/oracle/index\"},{\"text\":\"SQL Server 系列\",\"link\":\"/zh/sqlserver/index\"},{\"text\":\"英语学习系列\",\"link\":\"/zh/english/index\"}]},{\"text\":\"TiHC 文档\",\"link\":\"/zh/tihc/index\"},{\"text\":\"生活爱好\",\"items\":[{\"text\":\"滑雪\",\"link\":\"/zh/skiing/20250212 learn about skiing\"},{\"text\":\"网球\",\"link\":\"/zh/tennis/20250213 my tennis\"},{\"text\":\"摩托\",\"link\":\"/zh/motor/20250213 my motor\"},{\"text\":\"咖啡\",\"link\":\"/zh/coffee/20250214 my coffee\"}]},{\"text\":\"关于 Aric\",\"link\":\"/zh/about\"}],\"sidebar\":{\"/zh/tidb/\":[],\"/zh/english/\":[{\"text\":\"基础英语\",\"items\":[{\"text\":\"场景_生活方式\",\"link\":\"/zh/english/01基础英语/1-1场景_生活方式.md\"},{\"text\":\"场景_历史经验\",\"link\":\"/zh/english/01基础英语/1-2场景_历史经验.md\"},{\"text\":\"场景_管理生活\",\"link\":\"/zh/english/01基础英语/1-3场景_管理生活.md\"},{\"text\":\"场景_技术专家\",\"link\":\"/zh/english/01基础英语/1-4场景_技术专家.md\"},{\"text\":\"场景_印象深刻\",\"link\":\"/zh/english/01基础英语/1-5场景_印象深刻.md\"}]},{\"text\":\"英语口语\",\"items\":[{\"text\":\"场景_法律与秩序\",\"link\":\"/zh/english/02英语口语/2-10场景_法律与秩序.md\"},{\"text\":\"场景_奇怪事件\",\"link\":\"/zh/english/02英语口语/2-11场景_奇怪事件.md\"},{\"text\":\"场景_名气\",\"link\":\"/zh/english/02英语口语/2-12场景_名气.md\"},{\"text\":\"场景_生活\",\"link\":\"/zh/english/02英语口语/2-1场景_生活.md\"},{\"text\":\"场景_名人\",\"link\":\"/zh/english/02英语口语/2-2场景_名人.md\"},{\"text\":\"场景_备注\",\"link\":\"/zh/english/02英语口语/2-3场景_备注.md\"},{\"text\":\"场景_趋势\",\"link\":\"/zh/english/02英语口语/2-4场景_趋势.md\"},{\"text\":\"场景_解决问题\",\"link\":\"/zh/english/02英语口语/2-5场景_解决问题.md\"},{\"text\":\"场景_行为\",\"link\":\"/zh/english/02英语口语/2-6场景_行为.md\"},{\"text\":\"场景_工作\",\"link\":\"/zh/english/02英语口语/2-7场景_工作.md\"},{\"text\":\"场景_个人趣向\",\"link\":\"/zh/english/02英语口语/2-8场景_个人趣向.md\"},{\"text\":\"场景_世界文化\",\"link\":\"/zh/english/02英语口语/2-9场景_世界文化.md\"}]},{\"text\":\"高级口语\",\"items\":[{\"text\":\"场景_成功与快乐\",\"link\":\"/zh/english/03高级口语/3-10场景_成功与快乐.md\"},{\"text\":\"场景_出游\",\"link\":\"/zh/english/03高级口语/3-11场景_出游.md\"},{\"text\":\"场景_文化\",\"link\":\"/zh/english/03高级口语/3-12场景_文化.md\"},{\"text\":\"场景_能力\",\"link\":\"/zh/english/03高级口语/3-13场景_能力.md\"},{\"text\":\"场景_快速交友\",\"link\":\"/zh/english/03高级口语/3-1场景_快速交友.md\"},{\"text\":\"场景_名人\",\"link\":\"/zh/english/03高级口语/3-2场景_名人.md\"},{\"text\":\"场景_评论\",\"link\":\"/zh/english/03高级口语/3-3场景_评论.md\"},{\"text\":\"场景_故事\",\"link\":\"/zh/english/03高级口语/3-4场景_故事.md\"},{\"text\":\"场景_工作寿命\",\"link\":\"/zh/english/03高级口语/3-5场景_工作寿命.md\"},{\"text\":\"场景_挑战\",\"link\":\"/zh/english/03高级口语/3-6场景_挑战.md\"},{\"text\":\"场景_在未来\",\"link\":\"/zh/english/03高级口语/3-7场景_在未来.md\"},{\"text\":\"场景_和睦相处\",\"link\":\"/zh/english/03高级口语/3-8场景_和睦相处.md\"},{\"text\":\"场景_优质读物\",\"link\":\"/zh/english/03高级口语/3-9场景_优质读物.md\"}]},{\"text\":\"雅思考试\",\"items\":[{\"text\":\"场景_雅思考试\",\"link\":\"/zh/english/04雅思考试/4-1week1_雅思考试.md\"},{\"text\":\"场景_复习剑桥4B\",\"link\":\"/zh/english/04雅思考试/4-2week2_复习剑桥4B.md\"},{\"text\":\"场景_加分策略\",\"link\":\"/zh/english/04雅思考试/4-3week3_加分策略.md\"}]}]}}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>