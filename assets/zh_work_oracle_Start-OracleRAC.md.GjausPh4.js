import{_ as a,c as n,o as p,j as s,a5 as t,a as l}from"./chunks/framework.JWlnoUZ4.js";const e="/assets/01.Df62yyXo.png",h="/assets/02.CQd4toqT.png",k="/assets/03.DYj_dxW0.png",r="/assets/04.DF-wzUPd.png",c="/assets/05.BLU_zumQ.png",d="/assets/06.BWOuaBIT.png",g="/assets/07.CG5ODiji.png",o="/assets/08.CrsNlCgW.png",F="/assets/09.BfyXrmEu.png",y="/assets/10.DQJ8FyWH.png",C="/assets/11.Dr0SeGEG.png",E="/assets/12.BLrvrTfo.png",m="/assets/13.Ckmub5Ue.png",u="/assets/14.BudYzLKV.png",B="/assets/15.BE1u_9N6.png",_="/assets/16.DUuepoGa.png",b="/assets/17.ypht1Aku.png",f="/assets/18.Dhr_QrXc.png",v="/assets/19.DTj6SK6n.png",A="/assets/20.CCMJROUb.png",D="/assets/21.YCXtkszV.png",x="/assets/22.6-WVr9tj.png",S="/assets/23.C9L8cKXN.png",O="/assets/24.BALqNkEy.png",R="/assets/25.DEns9yUr.png",q="/assets/26.DpeWP_OS.png",w="/assets/27.C505GxuS.png",P="/assets/28.n3UP8IRG.png",N="/assets/29.vTqgKUfs.png",I="/assets/30.Cr-xpg25.png",T="/assets/31.C21y5SGN.png",M="/assets/32.nNVjSG1c.png",G="/assets/33.WtyXSX8B.png",L="/assets/34.DpZjTgC2.png",U="/assets/35.DZGRbY-T.png",H="/assets/36.BzwRmRaG.png",$="/assets/37.d5BngaCQ.png",V="/assets/38.CeT32iph.png",K="/assets/39.A2hyCiWy.png",W="/assets/40.B5UkJyzp.png",Y="/assets/41.B3AVDwId.png",z="/assets/42.B6SQYDFr.png",X="/assets/43.Cjo_5Cqf.png",j="/assets/44.B_0JIBGE.png",J="/assets/45.r4nEUdOH.png",Z="/assets/46.4EZbIO3l.png",Q="/assets/47.27PJJlny.png",ss="/assets/48.C79MN6Oy.png",is="/assets/49.DIkUTEyj.png",as="/assets/50.D_BzS5dc.png",ns="/assets/51.DdCz30el.png",ps="/assets/52.C_hOtQdl.png",ts="/assets/53.IpeuJYCi.png",ls="/assets/54.dEB9CGJ-.png",es="/assets/55.CPXBbHFX.png",hs="/assets/56.oxhDTBlr.png",ks="/assets/57.Dsn1mk_8.png",rs="/assets/58.Bm6MBWcK.png",cs="/assets/59.Raw1sPLp.png",ds="/assets/60.CkCKfqd_.png",gs="/assets/61.C5MdPZbO.png",os="/assets/62.D_PRWNRY.png",Fs="/assets/63.CoYf5Gw0.png",ys="/assets/64.C0bDKew_.png",Cs="/assets/65.VghWtfzy.png",Es="/assets/66.BNXN7iWN.png",ms="/assets/67.DRTnzMrx.png",us="/assets/68.CdCS-Xgf.png",Bs="/assets/69.C0x5sV8s.png",_s="/assets/70.94947jbc.png",bs="/assets/71.DuxLayUO.png",fs="/assets/72.BDMmanCh.png",vs="/assets/73.DT33hcHf.png",As="/assets/74.jEWBsl0G.png",Ds="/assets/75.D0tLxX_V.png",xs="/assets/76.n2VdI8SO.png",Ss="/assets/78.Cf-VL5ly.png",Os="/assets/80.Q15mb8C5.png",Rs="/assets/81.Bmc2b3yt.png",qs="/assets/82.CHmkxfv_.png",ws="/assets/83.DmaM2ZTh.png",Ps="/assets/84.CCejgheN.png",Ns="/assets/85.B6_ks9wN.png",Is="/assets/86.D9dm9Tb1.png",Ts="/assets/87.CBcMDOK6.png",Ms="/assets/88.ChbomvUB.png",Gs="/assets/89.CZM2x07Y.png",Ls="/assets/90.ClYt3652.png",Us="/assets/91.CapZG6c9.png",Hs="/assets/92.CPF6u7_e.png",$s="/assets/93.CPbnWZ-h.png",Vs="/assets/94.-xYp0bBP.png",Ks="/assets/95.Do7MXyHd.png",Ws="/assets/96.BGIbXYCX.png",Ys="/assets/97.D_K_xJh_.png",zs="/assets/98.BmFNZVTX.png",Xs="/assets/99.BTH6uTdu.png",js="/assets/100.DBM5bOJA.png",Js="/assets/101.DCM5zEDq.png",Zs="/assets/102.Caa4DYWe.png",Qs="/assets/103.DuB1-LX9.png",si="/assets/104.vD3C-eyW.png",ii="/assets/105.oVsaD3eQ.png",ai="/assets/106.DuuVrsmV.png",ni="/assets/107.KSwpLnQK.png",pi="/assets/108.BhOjHMGb.png",ti="/assets/109.zy07YSxF.png",li="/assets/110.C6GroXnT.png",ei="/assets/111.D-KcdKVr.png",hi="/assets/112.BmUNF7Ab.png",ki="/assets/113.CqW_sArz.png",ri="/assets/114.C3llrJpA.png",ci="/assets/115.C0Sj2xcd.png",di="/assets/116.CQFsfZhW.png",gi="/assets/117.CtXcmKuK.png",oi="/assets/118.Bl54UlKH.png",Fi="/assets/119.DxjhXjXN.png",yi="/assets/120.COSUPA7m.png",Ci="/assets/121.Drnl46yk.png",Ei="/assets/122.D0-cHFW9.png",mi="/assets/123.mJc5amrM.png",ui="/assets/124.DB-j7AIz.png",Bi="/assets/125.BQSYtsPM.png",_i="/assets/126.BtO-cKtu.png",bi="/assets/127.Vw1a2LMj.png",fi="/assets/128.CPf7mW1l.png",vi="/assets/129.BHl1u3zq.png",Ai="/assets/130.BLRBtW3d.png",Di="/assets/131.Dl-dPoGz.png",xi="/assets/132.CYHuygRD.png",Si="/assets/133.CwQXYMpw.png",Oi="/assets/134.CdtWe4wm.png",Ri="/assets/135.BZEEKL3D.png",qi="/assets/136.DHlwi6Gy.png",wi="/assets/137.eXZBi-4i.png",Pi="/assets/138.CklKwcyg.png",Ni="/assets/139.Ck1iohEH.png",Ii="/assets/140.KLCt2a7s.png",Ti="/assets/141.B3b1YUP7.png",Mi="/assets/142.-qah-ZdW.png",Gi="/assets/143.DEZIWwp0.png",Li="/assets/144.DzeIWJ4K.png",Ui="/assets/145.ixij87IJ.png",Hi="/assets/146.CYfFCENG.png",$i="/assets/147.BgOA9S16.png",Vi="/assets/148.MrAz28E7.png",Qi=JSON.parse('{"title":"Oracle 11g RAC 部署搭建","description":"Oracle 11g RAC 部署搭建","frontmatter":{"title":"Oracle 11g RAC 部署搭建","description":"Oracle 11g RAC 部署搭建"},"headers":[],"relativePath":"zh/work/oracle/Start-OracleRAC.md","filePath":"zh/work/oracle/Start-OracleRAC.md"}'),Ki={name:"zh/work/oracle/Start-OracleRAC.md"};function Wi(Yi,i,zi,Xi,ji,Ji){return p(),n("div",null,i[0]||(i[0]=[s("h1",{id:"oracle-11g-rac-部署搭建",tabindex:"-1"},[l("Oracle 11g RAC 部署搭建 "),s("a",{class:"header-anchor",href:"#oracle-11g-rac-部署搭建","aria-label":'Permalink to "Oracle 11g RAC 部署搭建"'},"​")],-1),s("blockquote",null,[s("p",null,[s("a",{href:"https://www.bilibili.com/video/BV1ZT4y157NN?from=search&seid=17237800447886927935&spm_id_from=333.337.0.0",target:"_blank",rel:"noreferrer"},"DBNEST -- Bilibili RAC 基础搭建视频地址")])],-1),s("iframe",{src:"//player.bilibili.com/player.html?aid=926769884&bvid=BV1ZT4y157NN&cid=228088873&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",height:"560",width:"780"},null,-1),t('<table tabindex="0"><thead><tr><th>HOSTNAME</th><th>公网IP</th><th>主机名</th><th>私网IP</th><th>VIP</th><th>SCANIP</th></tr></thead><tbody><tr><td>node1</td><td>192.168.174.11</td><td>Prod1</td><td>10.10.10.1</td><td>192.168.174.111</td><td>192.168.174.24</td></tr><tr><td>node2</td><td>192.168.174.12</td><td>Prod2</td><td>10.10.10.2</td><td>192.168.174.121</td><td>192.168.174.24</td></tr></tbody></table><h2 id="一、创建虚拟机及搭建操作系统" tabindex="-1">一、创建虚拟机及搭建操作系统 <a class="header-anchor" href="#一、创建虚拟机及搭建操作系统" aria-label="Permalink to &quot;一、创建虚拟机及搭建操作系统&quot;">​</a></h2><h3 id="_1-1-创建虚拟机" tabindex="-1">1.1 创建虚拟机 <a class="header-anchor" href="#_1-1-创建虚拟机" aria-label="Permalink to &quot;1.1 创建虚拟机&quot;">​</a></h3><p>虚拟机的创建 需要创建两个虚拟机配置相同取不同的名字来区分。 打开vmware点击创建新的虚拟机。</p><figure><img src="'+e+'" alt="01" tabindex="0"><figcaption>01</figcaption></figure><figure><img src="'+h+'" alt="02" tabindex="0"><figcaption>02</figcaption></figure><figure><img src="'+k+'" alt="03" tabindex="0"><figcaption>03</figcaption></figure><p>选择redhat 6 版本64位</p><figure><img src="'+r+'" alt="04" tabindex="0"><figcaption>04</figcaption></figure><p>此处最好在windows上创建好一个目录来放集群方便区分</p><figure><img src="'+c+'" alt="05" tabindex="0"><figcaption>05</figcaption></figure><figure><img src="'+d+'" alt="06" tabindex="0"><figcaption>06</figcaption></figure><figure><img src="'+g+'" alt="07" tabindex="0"><figcaption>07</figcaption></figure><figure><img src="'+o+'" alt="08" tabindex="0"><figcaption>08</figcaption></figure><figure><img src="'+F+'" alt="09" tabindex="0"><figcaption>09</figcaption></figure><figure><img src="'+y+'" alt="10" tabindex="0"><figcaption>10</figcaption></figure><figure><img src="'+C+'" alt="11" tabindex="0"><figcaption>11</figcaption></figure><figure><img src="'+E+'" alt="12" tabindex="0"><figcaption>12</figcaption></figure><figure><img src="'+m+'" alt="13" tabindex="0"><figcaption>13</figcaption></figure><figure><img src="'+u+'" alt="14" tabindex="0"><figcaption>14</figcaption></figure><figure><img src="'+B+'" alt="15" tabindex="0"><figcaption>15</figcaption></figure><figure><img src="'+_+'" alt="16" tabindex="0"><figcaption>16</figcaption></figure><figure><img src="'+b+'" alt="17" tabindex="0"><figcaption>17</figcaption></figure><figure><img src="'+f+'" alt="18" tabindex="0"><figcaption>18</figcaption></figure><figure><img src="'+v+'" alt="19" tabindex="0"><figcaption>19</figcaption></figure><figure><img src="'+A+'" alt="20" tabindex="0"><figcaption>20</figcaption></figure><figure><img src="'+D+'" alt="21" tabindex="0"><figcaption>21</figcaption></figure><figure><img src="'+x+'" alt="22" tabindex="0"><figcaption>22</figcaption></figure><figure><img src="'+S+'" alt="23" tabindex="0"><figcaption>23</figcaption></figure><figure><img src="'+O+'" alt="24" tabindex="0"><figcaption>24</figcaption></figure><figure><img src="'+R+'" alt="25" tabindex="0"><figcaption>25</figcaption></figure><figure><img src="'+q+'" alt="26" tabindex="0"><figcaption>26</figcaption></figure><figure><img src="'+w+'" alt="27" tabindex="0"><figcaption>27</figcaption></figure><figure><img src="'+P+'" alt="28" tabindex="0"><figcaption>28</figcaption></figure><figure><img src="'+N+'" alt="29" tabindex="0"><figcaption>29</figcaption></figure><figure><img src="'+I+'" alt="30" tabindex="0"><figcaption>30</figcaption></figure><figure><img src="'+T+'" alt="31" tabindex="0"><figcaption>31</figcaption></figure><figure><img src="'+M+'" alt="32" tabindex="0"><figcaption>32</figcaption></figure><figure><img src="'+G+'" alt="33" tabindex="0"><figcaption>33</figcaption></figure><figure><img src="'+L+'" alt="34" tabindex="0"><figcaption>34</figcaption></figure><h3 id="_1-2-配置虚拟机网卡" tabindex="-1">1.2 配置虚拟机网卡 <a class="header-anchor" href="#_1-2-配置虚拟机网卡" aria-label="Permalink to &quot;1.2 配置虚拟机网卡&quot;">​</a></h3><p>点击虚拟网络编辑器，准备添加网卡；</p><figure><img src="'+U+'" alt="35" tabindex="0"><figcaption>35</figcaption></figure><p>点击更改设置； <img src="'+H+'" alt="36"></p><p>点击添加网络，添加虚拟网卡； <img src="'+$+'" alt="37"></p><p>点击确定； <img src="'+V+'" alt="38"></p><p>修改子网IP至规划的公网地址。 按照上述操作，创建内网网卡，并修改IP我地址为10.10.10.1； <img src="'+K+'" alt="39"></p><p>点击vmware的编辑虚拟机设置<br><img src="'+W+'" alt="40"></p><p>选中网络适配器点击添加<br><img src="'+Y+'" alt="41"></p><p>选择网络适配器点击完成即可完成添加<br><img src="'+z+'" alt="42"></p><p>新添加的网卡选择为桥接模式点击确定保存更改<br><img src="'+X+`" alt="43"></p><h3 id="_1-3-创建共享磁盘" tabindex="-1">1.3 创建共享磁盘 <a class="header-anchor" href="#_1-3-创建共享磁盘" aria-label="Permalink to &quot;1.3 创建共享磁盘&quot;">​</a></h3><p>进入windows的cmd命令行窗口到安装VMware软件的目录执行如下命令创建共享磁盘，就是两台机器共用的磁盘所以在另一台虚机上无需再次创建五个。 创建的磁盘最好单独放到一个目录中方便后续的配置</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd /d D:\\VMware15</span></span>
<span class="line"><span>vmware-vdiskmanager.exe -c -s 2Gb -a lsilogic -t 2 &quot;D:\\JanRAC\\sharedisk\\OCR01.vmdk&quot;</span></span>
<span class="line"><span>vmware-vdiskmanager.exe -c -s 2Gb -a lsilogic -t 2 &quot;D:\\JanRAC\\sharedisk\\OCR02.vmdk&quot;</span></span>
<span class="line"><span>vmware-vdiskmanager.exe -c -s 2Gb -a lsilogic -t 2 &quot;D:\\JanRAC\\sharedisk\\OCR03.vmdk&quot;</span></span>
<span class="line"><span>vmware-vdiskmanager.exe -c -s 15Gb -a lsilogic -t 2 &quot;D:\\JanRAC\\sharedisk\\DATA1.vmdk&quot;</span></span>
<span class="line"><span>vmware-vdiskmanager.exe -c -s 5Gb -a lsilogic -t 2 &quot;D:\\JanRAC\\sharedisk\\ARCH.vmdk&quot;</span></span></code></pre></div><p>磁盘创建完成后再次进入VMware点击编辑点击添加 <img src="`+j+'" alt="44"></p><p>选择硬盘 <img src="'+J+'" alt="45"><br><img src="'+Z+'" alt="46"></p><p>选择使用现有的磁盘 <img src="'+Q+'" alt="47"></p><p>进入刚才建立的磁盘目录中选择如下图所示的盘（不要选flat结尾的） <img src="'+ss+'" alt="48"><br><img src="'+is+'" alt="49"><br><img src="'+as+'" alt="50"><br><img src="'+ns+'" alt="51"><br><img src="'+ps+'" alt="52"></p><p>按照同样的方法把五个盘都加到上面。 全部完成后点击确认使其生效</p><p><img src="'+ts+'" alt="53"><br><img src="'+ls+`" alt="54"></p><p>找到两台虚拟机的配置文件用记事本模式打开它加入两行参数。</p><p>将下面配置粘贴至VMX文件中，两个节点均操作。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>disk.locking=&quot;FALSE&quot;</span></span>
<span class="line"><span>disk.EnableUUID = &quot;TRUE&quot;</span></span></code></pre></div><h3 id="_1-4-搭建linux操作系统" tabindex="-1">1.4 搭建linux操作系统 <a class="header-anchor" href="#_1-4-搭建linux操作系统" aria-label="Permalink to &quot;1.4 搭建linux操作系统&quot;">​</a></h3><p>点击虚拟机设置 <img src="`+es+'" alt="55"></p><p>选择安装光盘后点击确认<br><img src="'+hs+'" alt="56"></p><p>点击开启次虚拟机 <img src="'+ks+'" alt="57"></p><p>点击回车 <img src="'+rs+'" alt="58"><br><img src="'+cs+'" alt="59"><br><img src="'+ds+'" alt="60"><br><img src="'+gs+'" alt="61"><br><img src="'+os+'" alt="62"><br><img src="'+Fs+'" alt="63"></p><p>选择yes <img src="'+ys+'" alt="64"></p><p>主机名字 <img src="'+Cs+'" alt="65"></p><p>时区选择上海 <img src="'+Es+'" alt="66"></p><p>设置密码 <img src="'+ms+'" alt="67"></p><p>磁盘分区 <img src="'+us+'" alt="68"></p><p>点击create <img src="'+Bs+'" alt="69"></p><p>注意只选择sda盘进行分区其他的盘勾掉，首先加一个/boot分区大小200点击ok <img src="'+_s+'" alt="70"></p><p>注意只选择sda盘进行分区其他的盘勾掉，加一个swap分区大小2G <img src="'+bs+'" alt="71"></p><p>注意只选择sda盘进行分区其他的盘勾掉，根分区大小5G <img src="'+fs+'" alt="72"></p><p>注意只选择sda盘进行分区其他的盘勾掉，/u01分区将剩下所有空间全部分配给他</p><p><img src="'+vs+'" alt="73"><br><img src="'+As+'" alt="74"><br><img src="'+Ds+'" alt="75"><br><img src="'+xs+'" alt="76"></p><p>点击reboot完成操作系统的安装重启后进入操作系统界面 <img src="'+Ss+`" alt="77"></p><h2 id="二、操作系统配置" tabindex="-1">二、操作系统配置 <a class="header-anchor" href="#二、操作系统配置" aria-label="Permalink to &quot;二、操作系统配置&quot;">​</a></h2><h3 id="_2-1-检查操作系统设置" tabindex="-1">2.1 检查操作系统设置 <a class="header-anchor" href="#_2-1-检查操作系统设置" aria-label="Permalink to &quot;2.1 检查操作系统设置&quot;">​</a></h3><p>两个虚机根据自己的网卡信息配置网卡</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/sysconfig/network-script/ifcfg-eth0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DEVICE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">eth0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#HWADDR=00:0C:29:93:4D:A6</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Ethernet</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#UUID=58b202c7-754b-4cea-aedc-705e370c90b8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ONBOOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NM_CONTROLLED</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BOOTPROTO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">static</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IPADDR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">192.168.174.11</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NETMASK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">255.255.255.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/sysconfig/network-script/ifcfg-eth1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DEVICE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">eth1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#HWADDR=00:0C:29:93:4D:B0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Ethernet</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#UUID=5050a9fd-a783-4ddc-bc31-59cbe7be5d1d</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ONBOOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NM_CONTROLLED</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BOOTPROTO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">static</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IPADDR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">10.10.10.1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NETMASK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">255.255.255.0</span></span></code></pre></div><h3 id="_2-2-检查系统库依赖" tabindex="-1">2.2 检查系统库依赖 <a class="header-anchor" href="#_2-2-检查系统库依赖" aria-label="Permalink to &quot;2.2 检查系统库依赖&quot;">​</a></h3><p>配置yum源，并安装依赖包</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/yum.repos.d/iso.repo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[iso]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">iso</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">baseurl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file:///mnt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gpgcheck</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/cdrom</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> binutils</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compat-libstdc++-33</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> glibc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ksh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libaio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libgcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libstdc++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compat-libcap1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc-c++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> glibc-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libaio-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libstdc++-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sysstat</span></span></code></pre></div><h3 id="_2-3-操作系统内核参数调整" tabindex="-1">2.3 操作系统内核参数调整 <a class="header-anchor" href="#_2-3-操作系统内核参数调整" aria-label="Permalink to &quot;2.3 操作系统内核参数调整&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/sysctl.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kernel.shmall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #填入命令echo &quot;\`cat /proc/meminfo | grep &quot;MemTotal&quot; | awk &#39;{print $2}&#39;\` / (\`getconf PAGESIZE\` / 1024)&quot; | bc 的运行结果</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kernel.shmmax</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #填入命令echo &quot;\`cat /proc/meminfo | grep &quot;MemTotal&quot; | awk &#39;{print $2}&#39;\` * 1024 * 0.8&quot; | bc  | sed &#39;s#\\..*$##&#39; 的运行结果</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kernel.shmmni</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4096</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kernel.sem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 250</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 32000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 128</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fs.file-max</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6815744</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fs.aio-max-nr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1048576</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">net.ipv4.ip_local_port_range</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">net.core.rmem_default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 262144</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">net.core.rmem_max</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4194304</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">net.core.wmem_default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 262144</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">net.core.wmem_max</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 104857</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vm.swappiness</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vm.dirty_background_ratio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vm.dirty_ratio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 80</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vm.dirty_expire_centisecs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 500</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vm.dirty_writeback_centisecs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sysctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   使参数生效</span></span></code></pre></div><h3 id="_2-4-关闭-selinux、防火墙" tabindex="-1">2.4 关闭 SElinux、防火墙 <a class="header-anchor" href="#_2-4-关闭-selinux、防火墙" aria-label="Permalink to &quot;2.4 关闭 SElinux、防火墙&quot;">​</a></h3><p>根据安装规范，此两项内容应该已经被关闭 使用如下命令关闭：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/enforcing/disabled/g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/selinux/config</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setenforce</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iptables</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chkconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iptables</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> off</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NetworkManager</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chkconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NetworkManager</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> off</span></span></code></pre></div><h3 id="_2-5-ip地址分配" tabindex="-1">2.5 IP地址分配 <a class="header-anchor" href="#_2-5-ip地址分配" aria-label="Permalink to &quot;2.5 IP地址分配&quot;">​</a></h3><h4 id="_2-5-1-主机文件配置" tabindex="-1">2.5.1 主机文件配置 <a class="header-anchor" href="#_2-5-1-主机文件配置" aria-label="Permalink to &quot;2.5.1 主机文件配置&quot;">​</a></h4><ol><li>每个节点的公网网卡名，私网网卡名应保持一致，例如：在节点1公网网卡名为eth0，私网网卡名eth1，则节点2的公2. 网网卡名也应为eth0，私网网卡名应为eth1。 注意：各个节点的同名网卡的配置文件“/etc/sysconfig/network-scripts/ifcfg-网卡名”也应相同！</li></ol><p>vip/priv/scan命名规则如下：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hostname</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-vip，代表VIP主机名；</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hostname</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-priv，代表priv主机名；</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hostname</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-scan，代表scan主机名；</span></span></code></pre></div><p>针对IP地址分配如下，需要在/etc/hosts文件中增加以下IP地址解析：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#PUBLIC</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">192.168.174.11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    rac1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">192.168.174.12</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    rac2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#PRIVATE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">10.10.10.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    rac1-priv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">10.10.10.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    rac2-priv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#VIP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">192.168.174.111</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   rac1-vip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">192.168.174.121</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   rac2-vip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">192.168.174.24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    rac-scan</span></span></code></pre></div><h4 id="_2-5-2-ip地址分配应遵循如下原则" tabindex="-1">2.5.2 Ip地址分配应遵循如下原则 <a class="header-anchor" href="#_2-5-2-ip地址分配应遵循如下原则" aria-label="Permalink to &quot;2.5.2 Ip地址分配应遵循如下原则&quot;">​</a></h4><p>（1） Public ip,scan ip, vip 必须在相同网段 （2） private ip 与上述ip 不能在相同网段；</p><h2 id="三、用户环境及目录配置" tabindex="-1">三、用户环境及目录配置 <a class="header-anchor" href="#三、用户环境及目录配置" aria-label="Permalink to &quot;三、用户环境及目录配置&quot;">​</a></h2><h3 id="_3-1-用户相关设置" tabindex="-1">3.1 用户相关设置 <a class="header-anchor" href="#_3-1-用户相关设置" aria-label="Permalink to &quot;3.1 用户相关设置&quot;">​</a></h3><p>创建用户和组</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oinstall</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1001</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dba</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1002</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oper</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1003</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> asmadmin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1004</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> asmdba</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1005</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> asmoper</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1001</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oinstall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dba,asmadmin,asmdba,asmoper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1002</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oinstall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dba,oper,asmadmin,asmdba</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oracle</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --stdin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --stdin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oracle</span></span></code></pre></div><p>创建目录</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/oraInventory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid:oinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/oraInventory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 775</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/oraInventory</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/grid</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid:oinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/grid</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 775</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/grid</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/11.2.0.4/grid</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid:oinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/11.2.0.4/grid</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 775</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/11.2.0.4/grid</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/oracle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oracle:oinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/oracle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 775</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/oracle</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/oracle/product/11.2.0.4/db_1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oracle:oinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/oracle/product/11.2.0.4/db_1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 775</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /u01/app/oracle/product/11.2.0.4/db_1</span></span></code></pre></div><p>修改系统资源限制</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/security/limits.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nproc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2047</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nproc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16384</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nofile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nofile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65536</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oracle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nproc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2047</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oracle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nproc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16384</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oracle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nofile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oracle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nofile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65536</span></span></code></pre></div><p>修改/etc/profile，添加如下配置</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/profile</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USER </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;oracle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USER </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;grid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SHELL </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/bin/ksh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ulimit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16384</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ulimit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65536</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ulimit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16384</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65536</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fi</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">umask</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 022</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span></code></pre></div><p>修改/etc/csh.log，添加如下配置</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/csh.login</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ( </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">\\$USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;oracle&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> \\$USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;grid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">limit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> maxproc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16384</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">limit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> descriptors</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65536</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">endif</span></span></code></pre></div><p>修改grid用户环境变量</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .bash_profile</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ORACLE_BASE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/u01/app/grid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ORACLE_SID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+ASM1  --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-节点2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 为+ASM2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ORACLE_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/u01/app/11.2.0.4/grid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ORACLE_HOME/bin:$ORACLE_HOME/OPatch:$PATH</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PS1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$LOGNAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{PWD}&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">umask</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 022</span></span></code></pre></div><p>修改oracle环境变量</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oracle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .bash_profile</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ORACLE_BASE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/u01/app/oracle</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ORACLE_SID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">orcl1  --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-节点2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 为orcl2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ORACLE_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ORACLE_BASE/product/11.2.0.4/db_1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ORACLE_HOME/bin:$ORACLE_HOME/OPatch:$PATH</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PS1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$LOGNAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{PWD}&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">umask</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 022</span></span></code></pre></div><h3 id="_3-2-解压-11-2-0-4-安装包" tabindex="-1">3.2 解压 11.2.0.4 安装包 <a class="header-anchor" href="#_3-2-解压-11-2-0-4-安装包" aria-label="Permalink to &quot;3.2 解压 11.2.0.4 安装包&quot;">​</a></h3><p>上传安装介质并解压缩，共三个压缩包，1,2解压出来为database，3解压出来为grid</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p13390677_112040_Linux-x86-64_1of7.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p13390677_112040_Linux-x86-64_2of7.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p13390677_112040_Linux-x86-64_3of7.zip</span></span></code></pre></div><h3 id="_3-3-设置-udev-规则" tabindex="-1">3.3 设置 UDEV 规则 <a class="header-anchor" href="#_3-3-设置-udev-规则" aria-label="Permalink to &quot;3.3 设置 UDEV 规则&quot;">​</a></h3><p>绑定前需要查看下虚机的配置文件的disk.EnableUUID参数需要是TRUE，如果不是需要关闭操作系统血钙参数后再重启</p><p>修改文件/etc/udev/rules.d/99-oracle-asmdevices.rules，运行一下脚本：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/etc/udev/rules.d/99-oracle-asmdevices.rules</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DISK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DISK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DISK </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UUID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scsi_id</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -gud</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;KERNEL==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sd*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">, SUBSYSTEM==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">block</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">, PROGRAM==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/sbin/scsi_id --whitelisted --replace-whitespace --device=/dev/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,  RESULT==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$UUID</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">, NAME=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">asm-disk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DISK</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,  OWNER=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">grid</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,  GROUP=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">asmadmin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">, MODE=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0660</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/etc/udev/rules.d/99-oracle-asmdevices.rules</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span></code></pre></div><p>重启UDEV以使上述设置生效：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/sbin/udevadm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> control</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --reload-rules</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/sbin/start_udev</span></span></code></pre></div><h2 id="四、grid-和-db-软件安装" tabindex="-1">四、GRID 和 DB 软件安装 <a class="header-anchor" href="#四、grid-和-db-软件安装" aria-label="Permalink to &quot;四、GRID 和 DB 软件安装&quot;">​</a></h2><ol><li>用SecureCRT，对应服务器连接属性中勾选Forward X11 Packets，即可实现在不设置DISPLAY选项，对应服务器ping不通本机的情形下依然可以正常显示Oracle安装界面。</li><li>但在执行runInstaller时最后要以对应的grid/oracle用户登录，不能用root用户ssh登录后再su到grid/oracle用户，否则Oracle安装界面有可能显示不出来。</li></ol><h3 id="_4-1-grid-软件安装" tabindex="-1">4.1 GRID 软件安装 <a class="header-anchor" href="#_4-1-grid-软件安装" aria-label="Permalink to &quot;4.1 GRID 软件安装&quot;">​</a></h3><p>grid用户登录第一个节点主机，然后执行runInstaller命令安装Grid Infrastructure,具体安装步骤如下：执行./runInstaller安装：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[grid@epayrac1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]$ cd /home/oracle_install/grid</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@tim1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# dd if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/dev/zero</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> of</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/u01/swap1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1M</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2048</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2）创建一个swap类型文件,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@epayrac1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# mkswap /u01/swap1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">3）将swpf1生成swap文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@epayrac1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# swapon /u01/swap1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">查看一下，swap1起作用了</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@epayrac1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# free -m   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">4）实现开机后自动使用新添的swap1分区</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@epayrac1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# vi /etc/fstab</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">添加swap行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/u01/swap1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       swap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       swap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      defaults</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">5）修改tmpfs行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tmpfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            /dev/shm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   tmpfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   defaults,size=2G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6）tmpfs重置一下，使其当下有效</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@epayrac1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# mount -o remount /dev/shm</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[grid@epayrac1 grid]$ ./runInstaller</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Starting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oracle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Universal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Installer...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Checking</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Temp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> space:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> greater</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> than</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 120</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MB.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Actual</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3996</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Checking</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> swap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> space:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> greater</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> than</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 150</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MB.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Actual</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 32145</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Checking</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> monitor:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> display</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> least</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 256</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> colors.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Actual</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16777216</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Preparing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> launch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oracle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Universal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Installer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/OraInstall2014-08-21_05-26-13PM.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Please</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wait</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ...</span></span></code></pre></div><p>执行runInstaller后出现如下安装界面： 选择“skip software updates”然后下一步： <img src="`+Os+'" alt="80"></p><p>选择“Install and Configure Oracle Grid infrastructure for a Cluster”然后下一步： <img src="'+Rs+'" alt="81"></p><p>选择“Advanced Installation”，然后下一步: <img src="'+qs+'" alt="82"><br> 选择安装语言，默认为英语，直接点击下一步： <img src="'+ws+'" alt="83"><br> 输入Cluster Name为epayrac-cluster, SCAN Name为epayrac-scan，SCAN Port为1521，注意SCAN Name必须与/etc/hosts文件中设置的一致；另外，这里不配GNS，然后点击下一步： <img src="'+Ps+'" alt="84"><br> 在随后出现的界面中单击“Add”按钮： <img src="'+Ns+'" alt="85"></p><p>配置ssh单击“SSH Connectivity”按钮：输入grid的密码后点击setup <img src="'+Is+'" alt="86"><br><img src="'+Ts+'" alt="87"></p><p>完成ssh配置 <img src="'+Ms+'" alt="88"><br> 单击Test按钮，应该出现以下窗口，如果以下窗口不能出现，则说明SSH配置有问题，请退出安装程序，修改ssh配置，然后重新执行上述步骤： 单击“OK”按钮： <img src="'+Gs+'" alt="89"><br> 单击“Next”按钮执行下一步： <img src="'+Ls+'" alt="90"><br> 确认无问题后单击“Next”下一步： 选择“Oracle Automatic Storage Managemnet(Oracle ASM)”，然后单击“Next”按钮执行下一步: <img src="'+Us+'" alt="91"><br> 注意该窗口为指定用来保存ocr和voting disk的ASM DiskGroup，如果生产环境，DiskGroupName为SYSTEMDG并且Redundancy为Normal，然后选择3块2G的小盘；如果为非生产环境可以将OCR和DB共享一个磁盘组并且将Redundancy设置为External。如果在Add Disks项没有出现ASM磁盘，则可能是磁盘权限设置和属主有问题。 单击Change Discovery Path按钮设置ASM磁盘访问路径（这里设置真实磁盘访问路径，此处为多路径磁盘的访问路径/dev/asm*），然后单击“OK”： <img src="'+Hs+'" alt="92"><br> 选择大小为2G的三块盘，然后单击“Next”按钮执行下一步： <img src="'+$s+'" alt="93"><br> 选择“Use same passwords for these accounts”然后然输入口令，然后单击“Next”按钮执行下一步： <img src="'+Vs+'" alt="94"><br> IPMI一般不设置，单击“Next”按钮进行下一步： <img src="'+Ks+'" alt="95"><br> 使用缺省设置，直接单击“Next”按钮执行下一步： <img src="'+Ws+'" alt="96"><br> 确认grid用户的ORACLE_BASE路径为/home/app/grid，ORACLE_HOME路径为/home/app/11.2.0.3/grid，确认无误后单击“Next”按钮执行下一步： <img src="'+Ys+'" alt="97"><br> 确认Inventory Directory为/home/app/oraInventory，然后单击“Next”按钮执行下一步： <img src="'+zs+'" alt="98"><br> 接着出现如下安装前检查界面： <img src="'+Xs+'" alt="99"><br> 接着出现如下检查结果界面： <img src="'+js+'" alt="100"><br> 此处需要说明的是： 1）elfutils-libelf-devel-0.97和pdksh在RedHat 6里无需安装，可忽略； 2）resolv.conf为DNS解析的配置，可忽略； 3）Network Time Protocol(NTP)这一项，我们使用CTSSD，不配置NTP，可忽略； 4) ASM检查失败也可忽略。 除上述可忽略的几项外，如果还有其他的未满足项，则需要具体问题具体分析，待解决后再安装GRID。 因此可以选择“Ignore All”,然后单击“Next”按钮执行下一步： <img src="'+Js+'" alt="101"><br> 接着出现安装概要界面，确认无误后单击“Install”按钮进行软件安装： <img src="'+Zs+'" alt="102"> 如下是安装进度界面： <img src="'+Qs+'" alt="103"> 接着出现如下界面： <img src="'+si+`" alt="104"> 以root用户登陆系统，执行上面的脚本，顺序如下： 1） 在epayrac1上执行脚本1，在epayrac2上执行脚本1； 2） 在epayrac1上执行脚本2，在epayrac2上执行脚本2。</p><p>各个节点执行上述脚本情况如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@epayrac1 ~]# /home/app/oraInventory/orainstRoot.sh</span></span>
<span class="line"><span>Changing permissions of /home/app/oraInventory.</span></span>
<span class="line"><span>Adding read,write permissions for group.</span></span>
<span class="line"><span>Removing read,write,execute permissions for world.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Changing groupname of /home/app/oraInventory to oinstall.</span></span>
<span class="line"><span>The execution of the script is complete.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[root@epayrac2 ~]# /home/app/oraInventory/orainstRoot.sh</span></span>
<span class="line"><span>Changing permissions of /home/app/oraInventory.</span></span>
<span class="line"><span>Adding read,write permissions for group.</span></span>
<span class="line"><span>Removing read,write,execute permissions for world.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Changing groupname of /home/app/oraInventory to oinstall.</span></span>
<span class="line"><span>The execution of the script is complete.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[root@epayrac1 ~]# /home/app/11.2.0.3/grid/root.sh</span></span>
<span class="line"><span>Performing root user operation for Oracle 11g </span></span>
<span class="line"><span></span></span>
<span class="line"><span>The following environment variables are set as:</span></span>
<span class="line"><span>    ORACLE_OWNER= grid</span></span>
<span class="line"><span>    ORACLE_HOME=  /home/app/11.2.0.3/grid</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Enter the full pathname of the local bin directory: [/usr/local/bin]: </span></span>
<span class="line"><span>   Copying dbhome to /usr/local/bin ...</span></span>
<span class="line"><span>   Copying oraenv to /usr/local/bin ...</span></span>
<span class="line"><span>   Copying coraenv to /usr/local/bin ...</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Creating /etc/oratab file...</span></span>
<span class="line"><span>Entries will be added to the /etc/oratab file as needed by</span></span>
<span class="line"><span>Database Configuration Assistant when a database is created</span></span>
<span class="line"><span>Finished running generic part of root script.</span></span>
<span class="line"><span>Now product-specific root actions will be performed.</span></span>
<span class="line"><span>Using configuration parameter file: /home/app/11.2.0.3/grid/crs/install/crsconfig_params</span></span>
<span class="line"><span>Creating trace directory</span></span>
<span class="line"><span>User ignored Prerequisites during installation</span></span>
<span class="line"><span>OLR initialization - successful</span></span>
<span class="line"><span>  root wallet</span></span>
<span class="line"><span>  root wallet cert</span></span>
<span class="line"><span>  root cert export</span></span>
<span class="line"><span>  peer wallet</span></span>
<span class="line"><span>  profile reader wallet</span></span>
<span class="line"><span>  pa wallet</span></span>
<span class="line"><span>  peer wallet keys</span></span>
<span class="line"><span>  pa wallet keys</span></span>
<span class="line"><span>  peer cert request</span></span>
<span class="line"><span>  pa cert request</span></span>
<span class="line"><span>  peer cert</span></span>
<span class="line"><span>  pa cert</span></span>
<span class="line"><span>  peer root cert TP</span></span>
<span class="line"><span>  profile reader root cert TP</span></span>
<span class="line"><span>  pa root cert TP</span></span>
<span class="line"><span>  peer pa cert TP</span></span>
<span class="line"><span>  pa peer cert TP</span></span>
<span class="line"><span>  profile reader pa cert TP</span></span>
<span class="line"><span>  profile reader peer cert TP</span></span>
<span class="line"><span>  peer user cert</span></span>
<span class="line"><span>  pa user cert</span></span>
<span class="line"><span>Adding Clusterware entries to upstart</span></span>
<span class="line"><span>CRS-2672: Attempting to start &#39;ora.mdnsd&#39; on &#39;epayrac1&#39;</span></span>
<span class="line"><span>CRS-2676: Start of &#39;ora.mdnsd&#39; on &#39;epayrac1&#39; succeeded</span></span>
<span class="line"><span>CRS-2672: Attempting to start &#39;ora.gpnpd&#39; on &#39;epayrac1&#39;</span></span>
<span class="line"><span>CRS-2676: Start of &#39;ora.gpnpd&#39; on &#39;epayrac1&#39; succeeded</span></span>
<span class="line"><span>CRS-2672: Attempting to start &#39;ora.cssdmonitor&#39; on &#39;epayrac1&#39;</span></span>
<span class="line"><span>CRS-2672: Attempting to start &#39;ora.gipcd&#39; on &#39;epayrac1&#39;</span></span>
<span class="line"><span>CRS-2676: Start of &#39;ora.cssdmonitor&#39; on &#39;epayrac1&#39; succeeded</span></span>
<span class="line"><span>CRS-2676: Start of &#39;ora.gipcd&#39; on &#39;epayrac1&#39; succeeded</span></span>
<span class="line"><span>CRS-2672: Attempting to start &#39;ora.cssd&#39; on &#39;epayrac1&#39;</span></span>
<span class="line"><span>CRS-2672: Attempting to start &#39;ora.diskmon&#39; on &#39;epayrac1&#39;</span></span>
<span class="line"><span>CRS-2676: Start of &#39;ora.diskmon&#39; on &#39;epayrac1&#39; succeeded</span></span>
<span class="line"><span>CRS-2676: Start of &#39;ora.cssd&#39; on &#39;epayrac1&#39; succeeded</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ASM created and started successfully.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Disk Group SYSTEMDG created successfully.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>clscfg: -install mode specified</span></span>
<span class="line"><span>Successfully accumulated necessary OCR keys.</span></span>
<span class="line"><span>Creating OCR keys for user &#39;root&#39;, privgrp &#39;root&#39;..</span></span>
<span class="line"><span>Operation successful.</span></span>
<span class="line"><span>CRS-4256: Updating the profile</span></span>
<span class="line"><span>Successful addition of voting disk 26c16c734fd64ffdbf102c26d4d5a4ed.</span></span>
<span class="line"><span>Successful addition of voting disk 7684d2a722754f19bf838c65ae52494b.</span></span>
<span class="line"><span>Successful addition of voting disk 59bade4e4cea4f0bbf77567c9c17cb12.</span></span>
<span class="line"><span>Successfully replaced voting disk group with +SYSTEMDG.</span></span>
<span class="line"><span>CRS-4256: Updating the profile</span></span>
<span class="line"><span>CRS-4266: Voting file(s) successfully replaced</span></span>
<span class="line"><span>##  STATE    File Universal Id                File Name Disk group</span></span>
<span class="line"><span>--  -----    -----------------                --------- ---------</span></span>
<span class="line"><span> 1. ONLINE   26c16c734fd64ffdbf102c26d4d5a4ed (/dev/mapper/asmocrvote1) [SYSTEMDG]</span></span>
<span class="line"><span> 2. ONLINE   7684d2a722754f19bf838c65ae52494b (/dev/mapper/asmocrvote2) [SYSTEMDG]</span></span>
<span class="line"><span> 3. ONLINE   59bade4e4cea4f0bbf77567c9c17cb12 (/dev/mapper/asmocrvote3) [SYSTEMDG]</span></span>
<span class="line"><span>Located 3 voting disk(s).</span></span>
<span class="line"><span>CRS-2672: Attempting to start &#39;ora.asm&#39; on &#39;epayrac1&#39;</span></span>
<span class="line"><span>CRS-2676: Start of &#39;ora.asm&#39; on &#39;epayrac1&#39; succeeded</span></span>
<span class="line"><span>CRS-2672: Attempting to start &#39;ora.SYSTEMDG.dg&#39; on &#39;epayrac1&#39;</span></span>
<span class="line"><span>CRS-2676: Start of &#39;ora.SYSTEMDG.dg&#39; on &#39;epayrac1&#39; succeeded</span></span>
<span class="line"><span>Preparing packages for installation...</span></span>
<span class="line"><span>cvuqdisk-1.0.9-1</span></span>
<span class="line"><span>Configure Oracle Grid Infrastructure for a Cluster ... succeeded</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[root@epayrac2 ~]# /home/app/11.2.0.3/grid/root.sh</span></span>
<span class="line"><span>Performing root user operation for Oracle 11g </span></span>
<span class="line"><span></span></span>
<span class="line"><span>The following environment variables are set as:</span></span>
<span class="line"><span>    ORACLE_OWNER= grid</span></span>
<span class="line"><span>    ORACLE_HOME=  /home/app/11.2.0.3/grid</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Enter the full pathname of the local bin directory: [/usr/local/bin]: </span></span>
<span class="line"><span>   Copying dbhome to /usr/local/bin ...</span></span>
<span class="line"><span>   Copying oraenv to /usr/local/bin ...</span></span>
<span class="line"><span>   Copying coraenv to /usr/local/bin ...</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Creating /etc/oratab file...</span></span>
<span class="line"><span>Entries will be added to the /etc/oratab file as needed by</span></span>
<span class="line"><span>Database Configuration Assistant when a database is created</span></span>
<span class="line"><span>Finished running generic part of root script.</span></span>
<span class="line"><span>Now product-specific root actions will be performed.</span></span>
<span class="line"><span>Using configuration parameter file: /home/app/11.2.0.3/grid/crs/install/crsconfig_params</span></span>
<span class="line"><span>Creating trace directory</span></span>
<span class="line"><span>User ignored Prerequisites during installation</span></span>
<span class="line"><span>OLR initialization - successful</span></span>
<span class="line"><span>Adding Clusterware entries to upstart</span></span>
<span class="line"><span>CRS-4402: The CSS daemon was started in exclusive mode but found an active CSS daemon on node epayrac1, number 1, and is terminating</span></span>
<span class="line"><span>An active cluster was found during exclusive startup, restarting to join the cluster</span></span>
<span class="line"><span>Preparing packages for installation...</span></span>
<span class="line"><span>cvuqdisk-1.0.9-1</span></span>
<span class="line"><span>Configure Oracle Grid Infrastructure for a Cluster ... succeeded</span></span></code></pre></div><p>上面的脚本执行成功后，单击”OK”按钮，自动执行几个配置操作后，出现如下窗口：</p><p><img src="`+ii+'" alt="105"> 由于SCAN VIP主机名epayrac-scan没有在DNS注册，导致Oracle Cluster Verification Utility失败，可以忽略此错误。</p><p>单击“OK”按钮： <img src="'+ai+'" alt="106"></p><p>单击“Next”按钮继续： <img src="'+ni+'" alt="107"> 单击“Yes”按钮： <img src="'+pi+`" alt="108"> 单击“Close”按钮，至此Grid 11.2.0.3软件安装完毕。</p><h3 id="_4-2-db-软件安装" tabindex="-1">4.2 DB 软件安装 <a class="header-anchor" href="#_4-2-db-软件安装" aria-label="Permalink to &quot;4.2 DB 软件安装&quot;">​</a></h3><p>以oracle用户登录第一个节点，然后执行runInstaller命令安装DB软件,具体安装步骤如下：执行./runInstaller安装：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[oracle@epayrac1 ~]$ cd /home/oracle_install/database</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[oracle@epayrac1 database]$ ./runInstaller</span></span>
<span class="line"><span>Starting Oracle Universal Installer...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Checking Temp space: must be greater than 120 MB.   Actual 3994 MB    Passed</span></span>
<span class="line"><span>Checking swap space: must be greater than 150 MB.   Actual 32145 MB    Passed</span></span>
<span class="line"><span>Checking monitor: must be configured to display at least 256 colors.    Actual 16777216    Passed</span></span>
<span class="line"><span>Preparing to launch Oracle Universal Installer from /tmp/OraInstall2014-08-21_07-09-01PM. Please wait ...</span></span></code></pre></div><p>执行runInstaller后出现如下安装界面： 取消“I wish to receive security updates via My Oracle Support”选项，然后单击“Next”按钮执行下一步：</p><p><img src="`+ti+'" alt="109"> 单击“Yes”按钮: <img src="'+li+'" alt="110"> 选择“Skip software updates”选项，然后单击“Next”按钮执行下一步： <img src="'+ei+'" alt="111"> 选择“Install database software only”选项，然后单击“Next”按钮执行下一步： <img src="'+hi+'" alt="112"> 选择“Oracle Real Application Clusters database installation”选项，确保第二个节点epayrac2已被勾选: <img src="'+ki+'" alt="113"> 单击SSH Connectivity按钮后，单击“setup”按钮，出现以下成功窗口： <img src="'+ri+'" alt="114"> 单击“OK”按钮，返回后再单击“Next”按钮执行下一步： <img src="'+ci+'" alt="115"> 单击“Next”按钮执行下一步： <img src="'+di+'" alt="116"> 选择“Enterprise Edition(4.5GB)”,单击“Next”按钮执行下一步： <img src="'+gi+'" alt="117"> 确认目录正确无误后（Oracle用户的ORACLE_BASE路径是/home/app/oracle，Oracle用户ORACLE_HOME路径是/home/app/oracle/product/11.2.0.3/db_1）单击“Next”按钮执行下一步： <img src="'+oi+'" alt="118"> Database Operator组可不选，直接单击“Next”按钮执行下一步： <img src="'+Fi+'" alt="119"> 接着出现如下安装检查界面： <img src="'+yi+'" alt="120"> 接着出现如下检查结果界面： <img src="'+Ci+'" alt="121"> 此处需要说明的是： 1）elfutils-libelf-devel-0.97和pdksh在RedHat 6里无需安装，可忽略； 2）resolv.conf为DNS解析的配置，可忽略； 3）Clock Synchronization这一项，我们使用CTSSD，不配置NTP，可忽略； 4) Single Client Access Name(SCAN)这一项，为没有配置DNS所致，可忽略； 除上述可忽略的几项外，如果还有其他的未满足项，则需要具体问题具体分析，待解决后再安装数据库软件。 因此可以选择“Ignore All”,然后单击“Next”按钮执行下一步： <img src="'+Ei+'" alt="122"></p><p>单击“Install”按钮执行下一步： <img src="'+mi+'" alt="123"></p><p>如下是安装进度界面： <img src="'+ui+'" alt="124"></p><p>接着出现如下界面： <img src="'+Bi+`" alt="125"> 以root用户登陆系统，执行上面的脚本，顺序如下： 在epayrac1上执行脚本1，在epayrac2上执行脚本1；</p><p>节点1的执行情况：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@epayrac1 ~]# /home/app/oracle/product/11.2.0.3/db_1/root.sh</span></span>
<span class="line"><span>Performing root user operation for Oracle 11g </span></span>
<span class="line"><span></span></span>
<span class="line"><span>The following environment variables are set as:</span></span>
<span class="line"><span>    ORACLE_OWNER= oracle</span></span>
<span class="line"><span>    ORACLE_HOME=  /home/app/oracle/product/11.2.0.3/db_1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Enter the full pathname of the local bin directory: [/usr/local/bin]: </span></span>
<span class="line"><span>The contents of &quot;dbhome&quot; have not changed. No need to overwrite.</span></span>
<span class="line"><span>The contents of &quot;oraenv&quot; have not changed. No need to overwrite.</span></span>
<span class="line"><span>The contents of &quot;coraenv&quot; have not changed. No need to overwrite.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Entries will be added to the /etc/oratab file as needed by</span></span>
<span class="line"><span>Database Configuration Assistant when a database is created</span></span>
<span class="line"><span>Finished running generic part of root script.</span></span>
<span class="line"><span>Now product-specific root actions will be performed.</span></span>
<span class="line"><span>Finished product-specific root actions.</span></span></code></pre></div><p>节点2的执行情况：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@epayrac2 ~]# /home/app/oracle/product/11.2.0.3/db_1/root.sh</span></span>
<span class="line"><span>Performing root user operation for Oracle 11g </span></span>
<span class="line"><span></span></span>
<span class="line"><span>The following environment variables are set as:</span></span>
<span class="line"><span>    ORACLE_OWNER= oracle</span></span>
<span class="line"><span>    ORACLE_HOME=  /home/app/oracle/product/11.2.0.3/db_1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Enter the full pathname of the local bin directory: [/usr/local/bin]: </span></span>
<span class="line"><span>The contents of &quot;dbhome&quot; have not changed. No need to overwrite.</span></span>
<span class="line"><span>The contents of &quot;oraenv&quot; have not changed. No need to overwrite.</span></span>
<span class="line"><span>The contents of &quot;coraenv&quot; have not changed. No need to overwrite.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Entries will be added to the /etc/oratab file as needed by</span></span>
<span class="line"><span>Database Configuration Assistant when a database is created</span></span>
<span class="line"><span>Finished running generic part of root script.</span></span>
<span class="line"><span>Now product-specific root actions will be performed.</span></span>
<span class="line"><span>Finished product-specific root actions.</span></span></code></pre></div><p>上面的脚本执行成功后，单击”OK”按钮，出现如下界面： <img src="`+_i+'" alt="126"></p><p>单击“Close”按钮,Oracle database 11.2.0.3软件安装完毕。</p><h3 id="_4-3-创建-asm-磁盘组" tabindex="-1">4.3 创建 ASM 磁盘组 <a class="header-anchor" href="#_4-3-创建-asm-磁盘组" aria-label="Permalink to &quot;4.3 创建 ASM 磁盘组&quot;">​</a></h3><p>以grid用户登录节点1执行ASMCA创建DATADG和ARCHDG</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[grid@epayrac1 ~]$ asmca</span></span></code></pre></div><p>执行asmca后出现如下安装界面：</p><p><img src="'+bi+'" alt="127"> 点击“Create”按钮，选择asmr1datadisk1，选择External Redundancy，创建磁盘组DATADG1： <img src="'+fi+'" alt="128"> 点击“OK”按钮： <img src="'+vi+'" alt="129"></p><p>从如下结果中可以看到磁盘组DATADG已经成功创建： <img src="'+Ai+'" alt="130"></p><p>点击“Create”按钮，选择asmr5datadisk1，创建磁盘组ARCHDG： <img src="'+Di+'" alt="131"></p><p>从如下结果中可以看到磁盘组FRADG已经成功创建： <img src="'+xi+'" alt="132"></p><h3 id="_4-4-建库" tabindex="-1">4.4 建库 <a class="header-anchor" href="#_4-4-建库" aria-label="Permalink to &quot;4.4 建库&quot;">​</a></h3><p>以oracle用户登录节点1执行DBCA建库 注意要修改相关设置，如字符集、归档模式、redo log大小、multiplex redo log设置等 [oracle@epayrac1 ~]$ dbca</p><p>执行dbca后出现如下安装界面： <img src="'+Si+'" alt="133"><img src="'+Oi+'" alt="134"><img src="'+Ri+'" alt="135"><img src="'+qi+'" alt="136"><img src="'+wi+'" alt="137"><img src="'+Pi+'" alt="138"><img src="'+Ni+'" alt="139"><img src="'+Ii+'" alt="140"><img src="'+Ti+'" alt="141"><img src="'+Mi+'" alt="142"><img src="'+Gi+'" alt="143"><img src="'+Li+'" alt="144"><img src="'+Ui+'" alt="145"><img src="'+Hi+'" alt="146"><img src="'+$i+'" alt="147"></p><h2 id="五、常见问题解决" tabindex="-1">五、常见问题解决 <a class="header-anchor" href="#五、常见问题解决" aria-label="Permalink to &quot;五、常见问题解决&quot;">​</a></h2><p>Red Hat Linux6.9安装RAC11.2.0.4.0，dbca建库配置ASM时报错： Counld not connect to ASM due to following error,ora-12547:TNS:lost comact <img src="'+Vi+`" alt="148"> 解决办法：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[grid@liuqi1 oracle]$ cd $ORACLE_HOME/bin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[grid@liuqi1 bin]$ ll oracle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxr-x--x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oinstall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 203974257</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20:42</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oracle</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[grid@liuqi1 bin]$ chmod 6751 oracle</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[grid@liuqi1 bin]$ ll oracle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwsr-s--x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oinstall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 203974257</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20:42</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oracle</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[grid@liuqi1 bin]$</span></span></code></pre></div><p>将$GRID_HOME/bin和$ORACLE_HOME/bin下的oracle都赋6751权限：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6751</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $GRID_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/bin/oracle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6751</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $ORACLE_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/bin/oracle</span></span></code></pre></div>`,172)]))}const sa=a(Ki,[["render",Wi]]);export{Qi as __pageData,sa as default};
