import{_ as o,c as t,o as i,a4 as a}from"./chunks/framework.svyMRVY3.js";const g=JSON.parse('{"title":"KV Backoff OPS","description":"","frontmatter":{},"headers":[],"relativePath":"zh/work/tidb/03TiDB-运维管理/3-1TiDB 监控详解/04指标简介/KV Backoff OPS.md","filePath":"zh/work/tidb/03TiDB-运维管理/3-1TiDB 监控详解/04指标简介/KV Backoff OPS.md"}'),r={name:"zh/work/tidb/03TiDB-运维管理/3-1TiDB 监控详解/04指标简介/KV Backoff OPS.md"};function l(s,e,n,c,d,f){return i(),t("div",null,e[0]||(e[0]=[a('<h1 id="kv-backoff-ops" tabindex="-1">KV Backoff OPS <a class="header-anchor" href="#kv-backoff-ops" aria-label="Permalink to &quot;KV Backoff OPS&quot;">​</a></h1><p><a href="https://github.com/tikv/client-go/blob/6beede6998b6b23aee8e816f95f293d4d0363704/metrics/metrics.go#L156-L164" target="_blank" rel="noreferrer">123</a></p><p>类型：</p><ol><li>tikvRPC, tiflashRPC</li></ol><p>send tiflash request error, send tikv request error, tikv server timeout, tiflash server timeout</p><ol start="2"><li>pdRPC RegionCache</li></ol><p>failed to decode region range key, key loadRegion from PD failed, key: region not found for key receive Region with no available peer</p><p>failed to decode region range key, regionID: loadRegion from PD failed, regionID: region not found for regionID receive Region with no available peer</p><p>scanregion failed to decode region range key, limit: scanRegion from PD failed, limit: PD returned no region, limit: PD returned regions have gaps, limit:</p><p>batchscan failed to decode region range key, range num: batchScanRegion from PD failed, range num:</p><p>TiDB --&gt; KV Request --&gt; Load Region Duration --&gt; get_region_when_miss</p><p>StoreCache loadStore from PD failed, id</p><p>get timestamp failed: get minimum timestamp failed:</p><p>scatterRegion batch split regions complete start scatter region --&gt; backoff batch split regions, scatter region complete batch split regions, scatter region failed</p><ol start="3"><li><p>tikvLockFast -&gt; resolve lock timeout --&gt; <a href="https://docs.pingcap.com/zh/tidb/v8.4/system-variables#tidb_backoff_lock_fast" target="_blank" rel="noreferrer">https://docs.pingcap.com/zh/tidb/v8.4/system-variables#tidb_backoff_lock_fast</a> backoffer.maxSleep %dms is exceeded, errors: total-backoff-times: %v, backoff-detail: %v, maxBackoffTimeExceeded: %v, maxExcludedTimeExceeded: longest sleep type: %s, time: %dms&quot;</p></li><li><p>txnLock --&gt; resolve lock timeout</p><ol><li>&quot;remain locks: &quot; --》 <a href="https://docs.pingcap.com/tidb/stable/garbage-collection-overview#resolve-locks" target="_blank" rel="noreferrer">https://docs.pingcap.com/tidb/stable/garbage-collection-overview#resolve-locks</a></li><li>&quot;[pipelined dml] flush lockedKeys: &quot;, &quot;[pipelined dml] backoff failed during flush&quot;</li><li>&quot;2PC prewrite lockedKeys:&quot;</li></ol></li><li><p>regionMiss regionScheduling serverBusy tikvDiskFull regionRecoveryInProgress staleCommand dataNotReady isWitness ...</p></li></ol>',15)]))}const m=o(r,[["render",l]]);export{g as __pageData,m as default};
